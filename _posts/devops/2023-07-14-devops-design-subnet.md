---
layout: post
section-type: post
title: Subnet Design
category: deploy
tags: [ 'network' ]
---

### Private IP 지원 주소 범위

- 10.0.0.0 ~ 10.255.255.255
- 172.16.0.0 ~ 172.31.255.255
- 192.168.0.0 ~ 192.168.255.255

### 가상 네트워크 설계 2원칙

- CIDR 블록은 다른 네트워크 범위와 겹치지 않아야 한다.
- 관리 노력을 줄이기 위해 다수의 작은 가상 네트워크(VPC, Vnet, ...)를 사용하기보다 큰 가상 네트워크을 사용한다.

### 서브넷의 장점

- 네트워크 성능과 속도가 향상
서브넷을 통해 네트워크에 연결된 모든 장치에 브로드캐스트 패킷이 도달하지 않도록 제한해 네트워크 전체의 성능과 네트워크 간 스위칭 장치 성능을 향상시킴
- 네트워크 정체를 줄임
트래픽을 서브넷 안으로 격리함
서브넷을 잘 배치하면 네트워크의 부하를 줄이고 트래픽을 효율적으로 라우팅할 수 있음
- 네트워크의 보안을 향상
ACL이나 QoS, 경로 테이블을 사용해 트래픽을 제어할 수 있어 위협을 확인하고 트래픽 대상을 쉽게 지정할 수 있음
- 네트워크가 비대해지지 않게 함
네트워크의 크기를 고려하여 설계
향수 늘어나는 호스트 수를 고려해 네트워크의 수를 적절히 계산할 수 잇음
- 관리가 용이함
서브넷으로 관리할 호스트 수를 논리적으로 제한할 수 있음
네트워크 문제 발생시 문제의 네트워크와 장치를 확인하고 빠르게 해결할 수 있음

각 서브넷의 처음 4개와 마지막 1개는 예약된 주소이다.
ex) 10.1.0.0/24 -> 10.1.0.0 ~ 10.1.0.3, 10.1.0.255 는 사용 불가

- x.x.x.0 :  네트워크 주소
- x.x.x.1 : 기본 게이트웨이로 예약
- x.x.x.2, x.x.x.3 : DNS IP로 VNet 공간을 매핑하기 위해 예약
- x.x.x.255 : 네트워크 브로드캐스트 주소

### 서브넷 설계 2원칙

- 서브넷 주소 공간이 가상 네트워크의 전체 주소 공간을 사용하지 않도록 한다.
가상 네트워크의 주소 공간은 향후에 사용할 주소 범위를 고려해야 하고,
일부는 네트워크를 설계할 때 예약할 필요가 있다.
- 가상 네트워크 보호를 위해 서브넷 구현시 네트워크 보안 그룹 리소스를 사용한 트래픽 제어를 고려한다.

---
> ref : [처음 배우는 애저 : Azure Portal로 배우는 애저 도입부터 활용까지](https://www.hanbit.co.kr/store/books/look.php?p_code=B1481913277)
