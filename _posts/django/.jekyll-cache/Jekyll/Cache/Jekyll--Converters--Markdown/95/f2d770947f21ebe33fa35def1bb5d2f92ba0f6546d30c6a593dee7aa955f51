I"¥<h1 id="internationalization-and-localization-languages-and-time-zones"><a href="http://www.marinamele.com/taskbuster-django-tutorial/internationalization-localization-languages-time-zones">Internationalization and Localization. Languages and Time zones</a></h1>

<p>ì´ë²ˆ íŒŒíŠ¸ì—ì„œëŠ” êµ­ì œí™”(Internationalization), í˜„ì§€í™”(Localization), í‘œì¤€ ì‹œê°„ëŒ€(Time Zones)ì— ëŒ€í•´ ë‹¤ë£¹ë‹ˆë‹¤.</p>

<p>ìš°ë¦¬ ì›¹ ì‚¬ì´íŠ¸ëŠ” ë‘ ê°€ì§€ ë‹¤ë¥¸ ì–¸ì–´ë¥¼ ì •ì˜í•˜ê³  ê° ì–¸ì–´ì— ë§ëŠ” URLì„ ë§Œë“¤ê³ , ë‘ ì–¸ì–´ë¥¼ ì§€ì›í•˜ëŠ” ì›¹ ì‚¬ì´íŠ¸ë¥¼ ë§Œë“­ë‹ˆë‹¤.</p>

<p>ë˜í•œ í‘œì¤€ ì‹œê°„ëŒ€ì™€ í…œí”Œë¦¬ì… í˜„ì§€ ì‹œê°„ì„ í‘œì‹œí•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.</p>

<p>ì´ íŒŒíŠ¸ì˜ ê°œìš”ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>

<ul>
  <li>Internationalization â€“ Settings</li>
  <li>Internationalization â€“ Urls</li>
  <li>Internationalization â€“ Templates</li>
  <li>Internationalization â€“ Translation</li>
  <li>Localization</li>
  <li>Time Zones</li>
</ul>

<p>ì‹œì‘í•´ë´…ì‹œë‹¤!</p>

<h2 id="internationalization--settings">Internationalization â€“ Settings</h2>

<p>êµ­ì œí™”ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•, ì¦‰ ìš°ë¦¬ í˜ì´ì§€ê°€ ì—¬ëŸ¬ ì–¸ì–´ë¥¼ ì§€ì›í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì— ëŒ€í•´ ì‘ì—…í•©ë‹ˆë‹¤.</p>

<p>ë¨¼ì € ëª¨ë“  ë²ˆì—­ íŒŒì¼ì„ ì €ì¥í•  í´ë”ë¥¼ ë§Œë“­ë‹ˆë‹¤. ì´ íŒŒì¼ë“¤ì€ Djangoì— ì˜í•´ ìë™ìœ¼ë¡œ ìƒì„±ë˜ì–´ ìš°ë¦¬ê°€ ë²ˆì—­í•˜ê³ ìí•˜ëŠ” ë¬¸ìì—´ì„ ì‘ì„±í•©ë‹ˆë‹¤. Djangoì—ê²Œ ì–´ë–¤ ë¬¸ìì—´ì„ í›„ìë¡œ ë²ˆì—­í• ì§€ë¥¼ ì•Œë ¤ì£¼ëŠ” ë°©ë²•ì„ ì„¤ëª…í•˜ê² ì§€ë§Œ, íŒŒì¼ì„ í¸ì§‘í•˜ê³  ê° ë¬¸ìì—´ì— ëŒ€í•œ ë²ˆì—­ì„ ìˆ˜ë™ìœ¼ë¡œ ë„£ëŠ” ê²ƒì´ ì•„ì´ë””ì–´ì…ë‹ˆë‹¤. ì´ë ‡ê²Œí•˜ë©´ ì¥ê³ ëŠ” ì‚¬ìš©ì í™˜ê²½ ì„¤ì €ì—¥ ë”°ë¼ í•˜ë‚˜ì˜ ì–¸ì–´ ë˜ëŠ” ë‹¤ë¥¸ ì–¸ì–´ë¥¼ ì„ íƒí•˜ê²Œ ë©ë‹ˆë‹¤.</p>

<p>ë²ˆì—­ì˜ í´ë”ëŠ” taskbuster í´ë” ì•ˆì— ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ mkdir taskbuster/locale
</code></pre></div></div>

<p>ë‹¤ìŒìœ¼ë¡œ â€˜settings/base.pyâ€™ íŒŒì¼ì„ ì—´ê³  ë‹¤ìŒ ì½”ë“œê°€ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>USE_I18N = True
</code></pre></div></div>

<p>íƒ¬í”Œë¦¿ ì»¨í…ìŠ¤íŠ¸ í”„ë¡œì„¸ì„œ <code class="language-plaintext highlighter-rouge">django.templates.context_processors.i18n</code>ì€ <code class="language-plaintext highlighter-rouge">TEMPLATES['OPTION']['context_processors']</code> ì„¤ì • ì•ˆì— ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TEMPLATES = [
    {
        ...
        'OPTIONS': {
            'context_processors': [
                ...
                'django.template.context_processors.i18n',
            ],
        },
    },
]
</code></pre></div></div>

<p>Note: Django ì‰¡ì„ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ì„¤ì •ì˜ ê°’ì„ ì°¾ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">$</span> <span class="n">python</span> <span class="n">manage</span><span class="p">.</span><span class="n">py</span> <span class="n">shell</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">settings</span><span class="p">.</span><span class="n">TEMPLATES</span>
</code></pre></div></div>

<p>í•´ë‹¹ ë³€ìˆ˜ì˜ í˜„ì¬ ê°’ì„ ì¶œë ¥í•©ë‹ˆë‹¤.</p>

<p>ê·¸ í›„, ë‹¤ìŒ ìš”ì²­ ì»¨í…ìŠ¤íŠ¸ë¥¼ í†µí•´ ì‚¬ìš©ìì˜ ì–¸ì–´ ê¸°ë³¸ ì„¤ì •ì„ ê²°ì •í•  ìˆ˜ ìˆë„ë¡ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ì— Locale middlewareë¥¼ ì¶”ê°€í•˜ì„¸ìš”.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MIDDLEWARE_CLASSES = (
    ...
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.locale.LocaleMiddleware',
    'django.middleware.common.CommonMiddleware',
    ...
)
</code></pre></div></div>

<p>ë‹¤ìŒìœ¼ë¡œ ì‚¬ìš©í•  ì–¸ì–´ë¥¼ ì§€ì •í•˜ì„¸ìš”.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>from django.utils.translation import ugettext_lazy as _ # Django 4.0ì—ì„œ ugettext_lazy -&gt; gettext_lazyìœ¼ë¡œ ë³€ê²½ë¨ 
LANGUAGES = (
    ('en', _('English')),
    ('ca', _('Catalan')),
)
</code></pre></div></div>
<p>ìš°ë¦¬ëŠ” ì˜ì–´ì™€ ì¹´íƒˆë¡œì´ë‚˜ì–´ë¥¼ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤. ì›í•˜ëŠ” ì–¸ì–´ë¥¼ ììœ ë¡­ê²Œ ì…ë ¥í•´ë„ ë©ë‹ˆë‹¤. <code class="language-plaintext highlighter-rouge">ugettext_lazy</code> í•¨ìˆ˜ëŠ” ë²ˆì—­ í•  ì–¸ì–´ ì´ë¦„ì„ í‘œì‹œí•˜ëŠ”ë° ì‚¬ìš©ë˜ë©° ì¼ë°˜ì ìœ¼ë¡œ í•¨ìˆ˜ì˜ ë°”ë¡œê°€ê¸°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>

<p>Note: ë‹¤ë¥¸ í•¨ìˆ˜ì¸ <code class="language-plaintext highlighter-rouge">ugettext</code>ê°€ ë²ˆì—­ì— ì‚¬ìš©ë©ë‹ˆë‹¤. ë‘ í•¨ìˆ˜ì˜ ì°¨ì´ì ì€ <code class="language-plaintext highlighter-rouge">ugettext</code>ê°€ ë¬¸ìì—´ì„ ì¦‰ì‹œ ë°˜í™˜í•˜ëŠ” ë°˜ë©´, <code class="language-plaintext highlighter-rouge">ugettext_lazy</code>ëŠ” í…œí”Œë¦¿ì„ ë Œë”ë§ í•  ë•Œ ë¬¸ìì—´ì„ ë°˜í™˜í•©ë‹ˆë‹¤.</p>

<p>â€˜settings.pyâ€™ì˜ ê²½ìš° ë‹¤ë¥¸ í•¨ìˆ˜ë¡œ ì¸í•´ import ë£¨í”„ê°€ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—  <code class="language-plaintext highlighter-rouge">ugettext_lazy</code>ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">ugettext_lazy</code>ëŠ” models.pyê³¼ forms.py íŒŒì¼ì—ë„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.</p>

<p>ë˜í•œ <code class="language-plaintext highlighter-rouge">LANGUAGE_CODE</code> ì„¤ì •ì€ ë²ˆì—­ì´ ì—†ì„ ê²½ìš° Djangoê°€ ì‚¬ìš©í•  ê¸°ë³¸ ì–¸ì–´ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ê¸°ë³¸ê°’ì„ ê·¸ëŒ€ë¡œ ë‘¡ë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>LANGUAGE_CODE = 'en-us'
</code></pre></div></div>

<p>ë§ˆì§€ë§‰ìœ¼ë¡œ ì´ì „ì— ìƒì„±í•œ locale í´ë”ë¥¼ ì§€ì •í•˜ì„¸ìš”.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">LOCALE_PATHS</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_DIR</span><span class="p">,</span> <span class="s">'locale'</span><span class="p">),</span>
<span class="p">)</span>
</code></pre></div></div>

<p>ì½¤ë§ˆ ìŠì§€ ë§ˆì„¸ìš”.</p>

<h2 id="internationalization--urls">Internationalization â€“ Urls</h2>

<p>ì´ì œ ì„¤ì •ì„ êµ¬ì„±í–ˆìœ¼ë‹ˆ ì•±ì„ ë‹¤ë¥¸ ì–¸ì–´ë¡œ ì‘ë™ì‹œí‚¤ëŠ” ë°©ë²•ì— ëŒ€í•´ ìƒê°í•´ë´ì•¼ í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë°©ì‹ì„ ì·¨í•  ê²ƒì…ë‹ˆë‹¤: ê° URLì— Djangoì—ê²Œ ì‚¬ìš©í•  ì–¸ì–´ë¥¼ ì•Œë ¤ì£¼ëŠ” ì–¸ì–´ ì ‘ë‘ì–´ë¥¼ í¬í•¨ì‹œí‚µë‹ˆë‹¤. í™ˆí˜ì´ì§€ì˜ ê²½ìš° ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>

<ul>
  <li>mysite.com/en</li>
  <li>mysite.com/ca</li>
</ul>

<p>â€˜mysite.com/myappâ€™ì™€ ê°™ì€ ë‚˜ë¨¸ì§€ URLì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>

<ul>
  <li>mysite.com/en/myapp</li>
  <li>mysite.com/ca/myapp</li>
</ul>

<p>ì´ ë°©ë²•ìœ¼ë¡œ ì‚¬ìš©ìëŠ” í•œ ì–¸ì–´ì—ì„œ ë‹¤ë¥¸ ì–¸ì–´ë¡œ ì‰½ê²Œ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ, ìš°ë¦¬ëŠ” ì–´ë–¤ robots.txtë¥¼ ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. humans.txtë„ ì´ êµ¬ì¡°ë¥¼ ë”°ë¦…ë‹ˆë‹¤. (ê²€ìƒ‰ ì—”ì§„ì€ êµ¬ì¡°ì— ë”°ë¼ â€˜mysite.com/robots.txtâ€™ì™€ â€˜mysite.com/humans.txtâ€™ë¥¼ ì°¾ì„ ê²ƒì…ë‹ˆë‹¤.)</p>

<p>ì´ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì€ â€˜urls.pyâ€™ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># -*- coding: utf-8 -*-
</span><span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>
<span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">path</span>
<span class="kn">from</span> <span class="nn">django.conf.urls.i18n</span> <span class="kn">import</span> <span class="n">i18n_patterns</span>
<span class="kn">from</span> <span class="nn">.views</span> <span class="kn">import</span> <span class="n">home</span><span class="p">,</span> <span class="n">home_files</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s">'&lt;filename&gt;'</span><span class="p">,</span> <span class="n">home_files</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">'home-files'</span><span class="p">),</span>
<span class="p">]</span>

<span class="n">urlpatterns</span> <span class="o">+=</span> <span class="n">i18n_patterns</span><span class="p">(</span>
    <span class="n">path</span><span class="p">(</span><span class="s">'admin/'</span><span class="p">,</span> <span class="n">admin</span><span class="p">.</span><span class="n">site</span><span class="p">.</span><span class="n">urls</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s">''</span><span class="p">,</span> <span class="n">home</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">'home'</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div></div>

<p>robots.txtì™€ humans.txt íŒŒì¼ì„ ê°™ì€ URLë¡œ ë‚¨ê²¨ë‘ì—ˆê³ , ìš°ë¦¬ê°€ ë²ˆì—­í•˜ê³  ì‹¶ì€ ê²ƒë“¤ì€ <code class="language-plaintext highlighter-rouge">i18n_patterns</code> í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>

<p>ë¡œì»¬ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ê³  í™ˆí˜ì´ì§€ë¥¼ ë°©ë¬¸í•˜ë©´ <code class="language-plaintext highlighter-rouge">/en</code> ë˜ëŠ” <code class="language-plaintext highlighter-rouge">/ca</code>ë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. DJangoì˜ ê³µì‹ ì–¸ì–´ ë¬¸ì„œì—ì„œ <a href="https://docs.djangoproject.com/en/1.8/topics/i18n/translation/#how-django-discovers-language-preference">how Django discovers language preference</a>ì— ëŒ€í•´ ë” ë°°ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p>ì‚¬ìš©ìê°€ ì–¸ì–´ í™˜ê²½ ì„¤ì •ì„ ì–´ë–»ê²Œ ë³€ê²½í• ê¹Œìš”? DJangoëŠ” ì´ê²ƒì„ í•˜ëŠ” ë·°ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.</p>

<p>ì´ ë·°ì—ëŠ” ì–¸ì–´ ë§¤ê°œë³€ìˆ˜ê°€ í¬í•¨ëœ POST ìš”ì²­ì´ ì˜ˆìƒë©ë‹ˆë‹¤. í•˜ì§€ë§Œ ìƒë‹¨ ê²€ìƒ‰ë°”ë¥¼ customizing í•  ë•Œ ë³¸ íŠœí† ë¦¬ì–¼ì˜ ë‹¤ë¥¸ ì‹œê°„ëŒ€ì— í•´ë‹¹ ë·°ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤. ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë“  ì–¸ì–´ë¥¼ ê°€ì§„ ë“œë¡­ë‹¤ìš´ ë©”ë‰´ë¥¼ ì„ íƒí•œ í›„ ë³€ê²½í•  ì–¸ì–´ë¥¼ ì„ íƒí•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</p>

<p>ê³„ì†í•˜ê¸° ì „ì— í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•´ë´…ë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python mange.py test taskbuster.test
</code></pre></div></div>

<p>í•˜ë‚˜ëŠ” ì‹¤íŒ¨í•©ë‹ˆë‹¤! ì‹¤ì œë¡œ â€˜taskbuster/test.pyâ€™ì—ì„œ ê°€ì¥ ì‘ì€ í•­ëª©ì´ ëª¨ë‘ ì‹¤íŒ¨í•©ë‹ˆë‹¤. <code class="language-plaintext highlighter-rouge">reverse('home')</code>ì„ ì‚¬ìš©í•  ë•Œ ë Œë”ë§ë˜ëŠ” íƒ¬í”Œë¦¿ì„ ì°¾ì„ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ìš°ë¦¬ëŠ” reverseê°€ ì œëŒ€ë¡œ ì‘ë™í•˜ê²Œ í•˜ê¸° ìœ„í•´ active languageë¥¼ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤. ë¨¼ì € íŒŒì¼ ë§¨ ìœ„ì•  ë‹¤ìŒì„ ì„í¬íŠ¸í•©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.utils.translation</span> <span class="kn">import</span> <span class="n">activate</span>
</code></pre></div></div>

<p>ê·¸ ë‹¤ìŒì€ í…ŒìŠ¤íŠ¸ ì„ ì–¸ ì§í›„ì— ì„ íƒí•  ì–¸ì–´ë¥¼ í™œì„±í™”í•˜ì„¸ìš”.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test_uses_index_template</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">activate</span><span class="p">(</span><span class="s">'en'</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s">"home"</span><span class="p">))</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">assertTemplateUsed</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="s">"taskbuster/index.html"</span><span class="p">)</span>
</code></pre></div></div>

<p>ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì—ë„ ë™ì¼í•˜ê²Œ ì ìš©í•˜ì„¸ìš”. (test_uses_base_template)</p>

<p>ì´ì œ í…ŒìŠ¤íŠ¸ëŠ” í†µê³¼í•©ë‹ˆë‹¤. â€˜functional_tests/test_all_users.pyâ€™ì—ë„ ë™ì¼í•œ ì‘ì—…ì„ í•´ì•¼ í•©ë‹ˆë‹¤.(<code class="language-plaintext highlighter-rouge">activate</code>ë¥¼ ì„í¬íŠ¸í•˜ê³ , setUp ë©”ì†Œë“œì˜ ë§ˆì§€ë§‰ì— <code class="language-plaintext highlighter-rouge">activate('en')</code>ì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.)</p>

<h2 id="internationalization--templates">Internationalization â€“ Templates</h2>

<p>ì´ì œ í™ˆí˜ì´ì§€ì˜ title(h1 Hello World)ë¥¼ ë²ˆì—­í•˜ëŠ”ë° ì§‘ì¤‘í•©ë‹ˆë‹¤. index.htmlì„ ì—´ê³  <code class="language-plaintext highlighter-rouge">&lt;h1&gt;Hello, world!&lt;/h1&gt;</code>ë¥¼ ì°¾ìŠµë‹ˆë‹¤.</p>

<p>ë‘ ê°€ì§€ í…œí”Œë¦¿ íƒœê·¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">trans</code>ëŠ” í•œ ì¤„ì„ ë²ˆì—­í•˜ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì œëª©ì— ì‚¬ìš©í•©ë‹ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">blocktrans</code>ëŠ” í™•ì • ëœ ì½˜í…ì¸ ì— ì‚¬ìš©ë©ë‹ˆë‹¤. ë‹¨ë½ì— ì‚¬ìš©í•©ë‹ˆë‹¤.</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">jumbotron</code> ì»¨í…Œì´ë„ˆì˜ h1ê³¼ p ë‚´ìš©ì„ ë‹¤ìŒ ì½”ë“œì™€ ê°™ì´ ë³€ê²½í•˜ì„¸ìš”.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"jumbotron"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;h1&gt;</span>{% trans "Welcome to TaskBuster!"%}<span class="nt">&lt;/h1&gt;</span>
        <span class="nt">&lt;p&gt;</span>{% blocktrans %}TaskBuster is a simple Task manager that helps you organize your daylife. <span class="nt">&lt;/br&gt;</span> You can create todo lists, periodic tasks and more! <span class="nt">&lt;/br&gt;&lt;/br&gt;</span> If you want to learn how it was created, or create it yourself!, check www.django-tutorial.com{% endblocktrans %}<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;p&gt;&lt;a</span> <span class="na">class=</span><span class="s">"btn btn-primary btn-lg"</span> <span class="na">role=</span><span class="s">"button"</span><span class="nt">&gt;</span>Learn more <span class="ni">&amp;raquo;</span><span class="nt">&lt;/a&gt;&lt;/p&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<p>ë˜í•œ ì´ì „ í…œí”Œë¦¿ íƒœê·¸ë¥¼ ì—‘ì„¸ìŠ¤í•˜ë ¤ë©´ í…œí”Œë¦¿ ë§¨ ìœ„ì— <code class="language-plaintext highlighter-rouge">{% load i18n %}</code>ë¥¼ ì¨ì•¼ í•©ë‹ˆë‹¤. ì´ ê²½ìš° base.html íƒœê·¸ì—ì„œ í™•ì¥ë©ë‹ˆë‹¤.</p>

<h2 id="internationalization--translation">Internationalization â€“ Translation</h2>

<p>ë§ˆì§€ë§‰ìœ¼ë¡œ ë¬¸ìì—´ì„ ë²ˆì—­í•©ë‹ˆë‹¤.</p>

<p>â€˜taskbuster_projectâ€™ í´ë”(manage.pyíŒŒì¼ê³¼ ë™ë“± ë ˆë²¨)ì˜ í„°ë¯¸ë„ë¡œ ì´ë™í•˜ê³  ë‹¤ìŒì„ ì‹¤í–‰í•˜ì„¸ìš”.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python manage.py makemessages -l ca
</code></pre></div></div>
<p>ì´ë ‡ê²Œ í•˜ë©´ ë²ˆì—­í•˜ë ¤ëŠ” ì–¸ì–´ì— ëŒ€í•œ ë©”ì‹œì§€ íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤. ëª¨ë“  ì½”ë“œë¥¼ ì˜ì–´ë¡œ ì‘ì„±í•˜ë¯€ë¡œ í•´ë‹¹ ì–¸ì–´ì— ëŒ€í•œ ë©”ì‹œì§€ íŒŒì¼ì„ ë§Œë“¤ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.</p>

<p>ê·¸ëŸ¬ë‚˜ GNU gettextê°€ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•Šë‹¤ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤. <a href="https://www.gnu.org/software/gettext/">GNU gettext í™ˆí˜ì´ì§€</a>ì— ì ‘ì†í•´ì„œ ìµœì‹ ë²„ì „ì„ ì„¤ì¹˜í•˜ì„¸ìš”.</p>

<p>ê¸°ë³¸ì ìœ¼ë¡œ íŒ¨í‚¤ì§€ í´ë”(ì••ì¶•ì„ í‘¼ ê²½ìš°) ì•ˆì— ë“¤ì–´ê°€ì„œ ë‹¤ìŒì„ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ./configure
</code></pre></div></div>

<p>ì‹œìŠ¤í…œì— ë§ê²Œ ì„¤ì¹˜ë¥¼ êµ¬ì„±í•˜ì„¸ìš”. ê·¸ ë‹¤ìŒì€</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ make
</code></pre></div></div>

<p>íŒ¨í‚¤ì§€ë¥¼ ì»´íŒŒì¼ í•©ë‹ˆë‹¤. í„°ë¯¸ë„ì—ì„œ ì„¤ì¹˜í• ë•Œ ë”ì°í•œ ì½”ë“œë“¤ì„ ì¶œë ¥í•˜ëŠ”ì§€ ê¶ê¸ˆí•´ì§‘ë‹ˆë‹¤.</p>

<p>ì›í•œë‹¤ë©´</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ make check
</code></pre></div></div>

<p>ì„¤ì¹˜í•˜ê¸° ì „ì— íŒ¨í‚¤ì§€ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ì—¬ ëª¨ë“  ê²ƒì´ ì˜ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”. ë§ˆì§€ë§‰ìœ¼ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ make install
</code></pre></div></div>
<p>íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”.</p>

<p>ì´ì œ ê°œë°œ í™˜ê²½ìœ¼ë¡œ ëŒì•„ê°€ì„œ ë©”ì‹œì§€ íŒŒì¼ì„ ìƒì„±í•´ ë´…ë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python manage.py makemessages -l ca
</code></pre></div></div>

<p>ì´ì œ â€˜taskbuster/localeâ€™ í´ë”ë¡œ ê°€ì„œ ì•ˆì— ìˆëŠ” ë‚´ìš©ì„ í™•ì¸í•˜ì„¸ìš”.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cd taskbuster/locale
$ ls
</code></pre></div></div>

<p>â€˜caâ€™(ë˜ëŠ” ë²ˆì—­ì„ ìœ„í•´ ì„ íƒëœ ì–¸ì–´)ë¼ëŠ” í´ë”ê°€ ìˆê³  â€˜LC_MESSAGESâ€™ë¼ëŠ” í´ë”ê°€ ë‚´ë¶€ì— ìˆìŠµë‹ˆë‹¤. ê·¸ ì•ˆì— ë“¤ì–´ê°€ë©´ â€˜django.poâ€™ë¼ëŠ” íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—ë””í„°ë¡œ í•´ë‹¹ íŒŒì¼ì„ ì—´ì–´ë´…ì„¸ìš”.</p>

<p>íŒŒì¼ì˜ ì‹œì‘ ë¶€ë¶„ì— ë©”íƒ€ ë°ì´í„°ê°€ ìˆì§€ë§Œ ê·¸ í›„ì—ëŠ” ë³€í™˜ì„ ìœ„í•´ í‘œì‹œ í•œ ë¬¸ìì—´ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<ul>
  <li>â€˜base.pyâ€™ ì„¤ì • íŒŒì¼ì˜ ì–¸ì–´ ì´ë¦„ì€ â€˜Englishâ€™ì™€ â€˜Catalanâ€™ì…ë‹ˆë‹¤.</li>
  <li>â€˜index.htmlâ€™íŒŒì¼ì˜ titleì€ â€˜Welcome to TaskBuster!â€™ì…ë‹ˆë‹¤.</li>
  <li>â€˜index.htmlâ€™ íŒŒì¼ì˜ ì œëª© ë’¤ ë‹¨ë½</li>
</ul>

<p>ê° ë¬¸ì¥ì€ msgidë¡œ ì‹œì‘í•˜ëŠ” ì¤„ì— ë‚˜íƒ€ë‚©ë‹ˆë‹¤. ë‹¤ìŒ í–‰ì— msgstrë¡œ ì‹œì‘í•˜ëŠ” ë²ˆì—­ì„ ë„£ì–´ì•¼ í•©ë‹ˆë‹¤.</p>

<p>title ë²ˆì—­ì€ ê°„ë‹¨í•©ë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>msgid "Welcome to TaskBuster!"
msgstr "Benvingut a TaskBuster!"
</code></pre></div></div>
<p>ë‹¨ë½ì„ ì‚¬ìš©í•˜ë©´ ê° ì¤„ì„ <code class="language-plaintext highlighter-rouge">""</code>ìœ¼ë¡œ ì‹œì‘í•˜ê³  ëë‚´ì•¼ í•©ë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>msgid ""
"TaskBuster is a simple Task manager that helps you organize your daylife. &lt;/"
"br&gt; You can create todo lists, periodic tasks and more! &lt;/br&gt;&lt;/br&gt; If you "
"want to learn how it was created, or create it yourself!, check www.django-"
"tutorial.com"
msgstr ""
"TaskBuster Ã©s un administrador senzill de tasques que t'ajuda a administrar "
"el teu dia a dia. &lt;/br&gt; Pots crear llistes de coses pendents, tasques "
"periÃ²diques i molt mÃ©s! &lt;/br&gt;&lt;/br&gt; Si vols apendre com s'ha creat, o"
"crear-lo tu mateix!, visita la pÃ gina &lt;a href='http://www.marinamele.com/taskbuster-django-tutorial' target=_'blank'&gt;Taskbuster Django Tutorial&lt;/a&gt;."
</code></pre></div></div>

<p>ë˜í•œ ì¤„ ë ë¶€ë¶„ì˜ ìµœì¢… ê³µê°„ì„ ê¸°ë¡í•˜ì„¸ìš”. í•´ë‹¹ ê³µë°±ì„ í¬í•¨í•˜ì§€ ì•Šìœ¼ë©´ ì¤„ ëì˜ ë‹¨ì–´ì™€ ë‹¤ìŒ ì¤„ì˜ ì‹œì‘ ë¶€ë¶„ì— ìˆëŠ” ë‹¨ì–´ê°€ ì—°ê²°ë©ë‹ˆë‹¤.</p>

<p>ëª¨ë“  ë²ˆì—­ì´ ì„¤ì •ë˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì»´íŒŒì¼í•´ì•¼ í•©ë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python manage.py compilemessages -l ca
</code></pre></div></div>

<p>ë¡œì»¬ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ê³  í™ˆí˜ì´ì§€ë¡œ ì´ë™í•˜ì—¬ íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆì§€ë§Œ ë¨¼ì € í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</p>

<p>â€˜functional_tests/test_all_users.pyâ€™ì— ë‹¤ìŒì˜ í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•˜ì„¸ìš”.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test_internationalization</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">lang</span><span class="p">,</span> <span class="n">h1_text</span> <span class="ow">in</span> <span class="p">[(</span><span class="s">'en'</span><span class="p">,</span> <span class="s">'Welcome to TaskBuster!'</span><span class="p">),</span>
                                <span class="p">(</span><span class="s">'ca'</span><span class="p">,</span> <span class="s">'Benvingut a TaskBuster!'</span><span class="p">)]:</span>
        <span class="n">activate</span><span class="p">(</span><span class="n">lang</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">browser</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">get_full_url</span><span class="p">(</span><span class="s">"home"</span><span class="p">))</span>
        <span class="n">h1</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">browser</span><span class="p">.</span><span class="n">find_element_by_tag_name</span><span class="p">(</span><span class="s">"h1"</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">h1</span><span class="p">.</span><span class="n">text</span><span class="p">,</span> <span class="n">h1_text</span><span class="p">)</span>
</code></pre></div></div>

<p>ë‹¤ë¥¸ ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° â€˜Benvingut a TaskBusterâ€™ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆë‹¤ëŠ” ê²ƒê³¼ <code class="language-plaintext highlighter-rouge">activate('ca')</code>ì„ ë³€ê²½í•˜ëŠ” ê²ƒì„ ê¸°ì–µí•˜ì„¸ìš”.</p>

<p>ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ í†µê³¼ë˜ê¸°ë¥¼ ë°”ëë‹ˆë‹¤. :)</p>

<h2 id="localization">Localization</h2>

<p>DjangoëŠ” í˜„ì¬ <strong>locale</strong> ì— ì§€ì •ëœ í˜•ì‹ì„ ì‚¬ìš©í•˜ì—¬ í…œí”Œë¦¿ì˜ ì‹œê°„ê³¼ ë‚ ì§œë¥¼ ë Œë”ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¦‰, ì„œë¡œ ë‹¤ë¥¸ ì§€ì—­ì˜ ë‘ ì‚¬ëŒì´ í…œí”Œë¦¿ì—ì„œ ì„œë¡œ ë‹¤ë¥¸ ë‚ ì§œ í¬ë§·ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p>Localizationì„ ì‚¬ìš©í•˜ë ¤ë©´ base.py ì„¤ì • íŒŒì¼ì—ì„œ ë‹¤ìŒ ì½”ë“œë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>USE_L10N = True
</code></pre></div></div>

<p>ì´ë ‡ê²Œ í•˜ë©´ í…œí”Œë¦¿ì— ê°’ì„ í¬í•¨í•  ë•Œ DjangoëŠ” locale í¬ë§·ì„ ì‚¬ìš©í•˜ì—¬ ê°’ì„ ë Œë”ë§í•©ë‹ˆë‹¤. ìë™ í¬ë§·íŒ…ì„ ë¹„í™œì„±í™”í•˜ëŠ” ë°©ë²•ë„ í•„ìš”í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, javascriptë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ëª¨ë“  ì§€ì—­ì— ëŒ€í•´ ë™ì¼í•œ í¬ë§·ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.</p>

<p>ê·¸ê±¸ ìœ„í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤. í™ˆí˜ì´ì§€ì—ì„œ ë¡œì»¬ ë‚ ì§œ í¬ë§·ê³¼ ë¹„ ë¡œì»¬ í¬ë§·ì„ ëª¨ë‘ ì‚¬ìš©í•˜ì—¬ ì˜¤ëŠ˜ ë‚ ì§œì™€ ì‹œê°„ì„ í‘œì‹œí•©ë‹ˆë‹¤.</p>

<p>â€˜functional_tests/test_all_users.pyâ€™ì„ ì—´ì–´ì„œ ë‹¤ìŒ ì½”ë“œë¥¼ ì„í¬íŠ¸í•©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>
<span class="kn">from</span> <span class="nn">django.utils</span> <span class="kn">import</span> <span class="n">formats</span>
</code></pre></div></div>

<p>ê·¸ í›„ <code class="language-plaintext highlighter-rouge">HomeNewVisitorTest</code>í´ë˜ìŠ¤ì— í…ŒìŠ¤íŠ¸ ë©”ì„œë“œë¥¼ ì¶”ê°€í•˜ì„¸ìš”.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test_localization</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">today</span> <span class="o">=</span> <span class="n">date</span><span class="p">.</span><span class="n">today</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">lang</span> <span class="ow">in</span> <span class="p">[</span><span class="s">'en'</span><span class="p">,</span> <span class="s">'ca'</span><span class="p">]:</span>
        <span class="n">activate</span><span class="p">(</span><span class="n">lang</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">browser</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">get_full_url</span><span class="p">(</span><span class="s">"home"</span><span class="p">))</span>
        <span class="n">local_date</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">browser</span><span class="p">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">"local-date"</span><span class="p">)</span>
        <span class="n">non_local_date</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">browser</span><span class="p">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">"non-local-date"</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">formats</span><span class="p">.</span><span class="n">date_format</span><span class="p">(</span><span class="n">today</span><span class="p">,</span> <span class="n">use_l10n</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
                              <span class="n">local_date</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">today</span><span class="p">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">'%Y-%m-%d'</span><span class="p">),</span> <span class="n">non_local_date</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div></div>

<p>ê·¸ëŸ° ë‹¤ìŒ í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‹¤í–‰í•˜ì—¬ ë¬´ì—‡ì„ ë¨¼ì € êµ¬í˜„í•´ì•¼ í•˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”. ë‹¤ìŒ ëª…ë ¹ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python manage.py test functional_tests.test_all_users.HomeNewVisitorTest.test_localization
</code></pre></div></div>

<p><strong>local-date</strong> idê°€ ìˆëŠ” ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ì–´ì„œ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•©ë‹ˆë‹¤. ê·¸ê±¸ ë§Œë“¤ì–´ ë´…ë‹ˆë‹¤.</p>

<p>â€˜taskbuster/index.htmlâ€™ í…œí”Œë¦¿ì„ ì—´ì–´ì„œ íŒŒì¼ì˜ ì‹œì‘ë¶€ë¶„ì— locale í…œí”Œë¦¿ íƒœê·¸ë¥¼ ë¡œë“œí•©ë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{% load l10n %}
</code></pre></div></div>

<p>ê·¸ í›„ <code class="language-plaintext highlighter-rouge">div</code> ì»¨í…Œì´ë„ˆë¥¼ ì°¾ìŠµë‹ˆë‹¤. ì²˜ìŒ ë‘ ì—´ì„ í¸ì§‘í•˜ì—¬ h2 í—¤ë”ì— ë‚ ì§œë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-md-4"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h2</span> <span class="na">id=</span><span class="s">"local-date"</span><span class="nt">&gt;</span>{{today}}<span class="nt">&lt;/h2&gt;</span>
      <span class="nt">&lt;p&gt;</span>This is the time using your local information <span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;p&gt;&lt;a</span> <span class="na">class=</span><span class="s">"btn btn-default"</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">role=</span><span class="s">"button"</span><span class="nt">&gt;</span>View details <span class="ni">&amp;raquo;</span><span class="nt">&lt;/a&gt;&lt;/p&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-md-4"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h2</span> <span class="na">id=</span><span class="s">"non-local-date"</span><span class="nt">&gt;</span>{{today|unlocalize}}<span class="nt">&lt;/h2&gt;</span>
      <span class="nt">&lt;p&gt;</span>This is the default time format.<span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;p&gt;&lt;a</span> <span class="na">class=</span><span class="s">"btn btn-default"</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">role=</span><span class="s">"button"</span><span class="nt">&gt;</span>View details <span class="ni">&amp;raquo;</span><span class="nt">&lt;/a&gt;&lt;/p&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<p>ë‘ ë²ˆì§¸ í—¤ë”ì˜ í•„í„°ê°€ locale í•´ì œë¨ì„ ìœ ì˜í•˜ì„¸ìš”. ì´ë ‡ê²Œ í•˜ë©´ <strong>today</strong> ë³€ìˆ˜ë¥¼ ë Œë”ë§í•˜ëŠ” ë™ì•ˆ localization í¬ë§·ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ê²Œ ë©ë‹ˆë‹¤. ë˜í•œ ëŒ€í˜• blockì„ ë¹„í™œì„±í•˜ëŠ” ë˜ ë‹¤ë¥¸ í…œí”Œë¦¿ íƒœê·¸ê°€ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{% localize off %} code without localization {% endlocalize %}
</code></pre></div></div>

<p><a href="https://docs.djangoproject.com/en/1.8/topics/i18n/formatting/#template-tags">Django docs</a>ì—ì„œ ë” ìì„¸íˆ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p>í…ŒìŠ¤íŠ¸ë¥¼ ì €ì¥í•˜ê³  ë‹¤ì‹œ ì‹¤í–‰í•˜ì„¸ìš”. <strong>today</strong> ë³€ìˆ˜ë¥¼ home ë·°ì— ì „ë‹¬í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ë‹¤ì‹œ ì‹¤íŒ¨í•©ë‹ˆë‹¤.</p>

<p>views.pyì— home ë·°ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">datetime</span>

<span class="k">def</span> <span class="nf">home</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">date</span><span class="p">.</span><span class="n">today</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">"taskbuster/index.html"</span><span class="p">,</span> <span class="p">{</span><span class="s">'today'</span><span class="p">:</span> <span class="n">today</span><span class="p">})</span>
</code></pre></div></div>

<p>í…ŒìŠ¤íŠ¸ë¥¼ ì¬ì‹¤í–‰í•©ë‹ˆë‹¤. ì´ì œ ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•©ë‹ˆë‹¤.</p>

<blockquote>
  <p>ë‚ ì§œ í‘œê¸°ë²•ì´ ë‹¬ë¼ì„œ í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•˜ì§€ ëª»í•œë‹¤ë©´ base.py ì…‹íŒ…íŒŒì¼ì— <code class="language-plaintext highlighter-rouge">DATE_FORMAT = 'Y-m-d'</code>ë¥¼ ì¶”ê°€í•˜ì„¸ìš”.</p>
</blockquote>

<h2 id="time-zones">Time Zones</h2>

<p>í”„ë¡œì íŠ¸ê°€ ì „ ì„¸ê³„ì˜ ë‚ ì§œì™€ ì‹œê°„ì„ ì²˜ë¦¬í•´ì•¼í•˜ëŠ” ê²½ìš° UTC(ì¡°ì •ëœ ì„¸ê³„ ì‹œê°„)ë¡œ ì‘ì—…í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ëª¨ë“  ë‚ ì§œì™€ ì‹œê°„ì— ë°ì´í„°ë² ì´ìŠ¤ì˜ ê·œì¹™ì´ ê· ì¼í•´ì ¸ì„œ ì‚¬ìš©ìì˜ ì‹œê°„ëŒ€ì™€ ìƒê´€ì—†ì´ ë¹„êµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p>DjangoëŠ” í¼ê³¼ í…œí”Œë¦¿ì—ì„œ ì›í•˜ëŠ” ì‹œê°„ëŒ€ë¡œ ìë™ìœ¼ë¡œ ë³€í™˜í•˜ë¯€ë¡œ ê±±ì •í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.</p>

<p>time zonesì„ ì‚¬ìš©í•˜ë ¤ë©´ base.py ì„¤ì • íŒŒì¼ì„ ì—´ì–´ì„œ ë‹¤ìŒ ë‚´ìš©ì„ í™•ì¸í•©ë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>USE_TZ = True
</code></pre></div></div>

<p>DjangoëŠ” ì‹œê°„ëŒ€ ê³„ì‚°ì„ í—ˆìš©í•˜ëŠ” Python íŒ¨í‚¤ì§€ì¸ <a href="http://pytz.sourceforge.net/">pytz</a>ë„ ì„¤ì¹˜í•˜ë„ë¡ ê¶Œì¥í•©ë‹ˆë‹¤. ì´ ë˜í•œ íŠœí† ë¦¬ì–¼ í›„ë°˜ì— ì‚¬ìš©í•  í…ŒìŠ¤í¬ í ê´€ë¦¬ìì¸ [Celery]ë¥¼ ì‚¬ìš©í•˜ëŠ”ë° í•„ìš”í•œ íŒ¨í‚¤ì§€ì…ë‹ˆë‹¤. ì„¤ì¹˜í•˜ì£ .</p>

<p>ê°œë°œ í™˜ê²½ì„ í™œì„±í™”í•˜ê³  ë‹¤ìŒì„ ì…ë ¥í•©ë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ pip install pytz
</code></pre></div></div>

<p>requirement base.txtì— ì¶”ê°€í•˜ì„¸ìš”.(pip freezeë¡œ ì„¤ì¹˜ëœ ë²„ì „ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.) í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ë„ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.</p>

<p>ë‘ ê°€ì§€ ì¢…ë¥˜ì˜ datetime ê°ì²´ê°€ ìˆëŠ”ë°, í‘œì¤€ ì‹œê°„ëŒ€ ê°ì²´ì™€ ê·¸ë ‡ì§€ ì•Šì€ ê°ì²´ë¥¼ ì¸ì‹í•©ë‹ˆë‹¤. ì–´ë–¤ ë‚ ì§œ ì¸ì§€ë¥¼ ê²°ì •í•˜ê¸° ìœ„í•´ datetime ë©”ì„œë“œ <code class="language-plaintext highlighter-rouge">is_aware()</code>ì™€ <code class="language-plaintext highlighter-rouge">is_naive()</code>ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p>í‘œì¤€ ì‹œê°„ëŒ€ ì§€ì›ì„ í™œì„±í™”í•˜ë©´ ëª¨ë“  datetime ì¸ìŠ¤í„´ìŠ¤ê°€ ì¸ì‹ë©ë‹ˆë‹¤. ë”°ë¼ì„œ ì €ì¥ëœ datetimeê³¼ ìƒí˜¸ ì‘ìš©í•˜ë ¤ë©´ aware datetime ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.</p>

<p>ì–˜ë¥¼ ë“¤ì–´:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">from</span> <span class="nn">django.utils.timezone</span> <span class="kn">import</span> <span class="n">utc</span>

<span class="n">now_naive</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">()</span>
<span class="n">now_aware</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="n">utcnow</span><span class="p">().</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="n">utc</span><span class="p">)</span>
</code></pre></div></div>

<p>ë˜í•œ <code class="language-plaintext highlighter-rouge">USE_TZ=True</code>ê³¼ ê°™ì´ time zoneì´ í™œì„±í™” ëœ ê²½ìš° í˜„ì¬ aware ì‹œê°„ì„ ê°€ì ¸ì˜¤ëŠ” ë°”ë¡œê°€ê¸°ê°€ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.utils.timezone</span> <span class="kn">import</span> <span class="n">now</span>
<span class="n">now_aware</span> <span class="o">=</span> <span class="n">now</span><span class="p">()</span>
</code></pre></div></div>

<p>ê·¸ëŸ¬ë‚˜ Django ë¬¸ì„œì—ì„œ ì„¤ëª…í•œ ê²ƒì²˜ëŸ¼ HTTP í—¤ë”ë¥¼ í†µí•´ ì‚¬ìš©ì time zone ê¸°ë³¸ ì„¤ì •ì„ ê²°ì •í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ ì—†ìŠµë‹ˆë‹¤. ìš°ë¦¬ê°€ í•  ì¼ì€ ì„ í˜¸í•˜ëŠ” time zoneë¥¼ ì‚¬ìš©ìì—ê²Œ ë¬»ê³  ì‚¬ìš©ì í”„ë¡œí•„ì— ì €ì¥í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. í•˜ì§€ë§Œ íŠœí† ë¦¬ì–¼ì˜ í›„ë°˜ì— í•˜ê²Œ ë©ë‹ˆë‹¤.</p>

<p>í•œí¸, ìš°ë¦¬ëŠ” ì„¤ì • ë³€ìˆ˜ë¡œ ê¸°ë³¸ time zoneì„ ì •ì˜í•  ê²ƒì…ë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TIME_ZONE = 'Europe/Madrid'
</code></pre></div></div>

<p>ì´ ì½”ë“œëŠ” ë°”ë¥´ì…€ë¡œë‚˜ì˜ time zoneì…ë‹ˆë‹¤. <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">time zone</a>ì—ì„œ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p>ì´ì œ ë°”ë¥´ì…€ë¡œë‚˜ì—ì„œ í˜„ì¬ ì‹œê°„(ê¸°ë³¸ time zoneì„ ì‚¬ìš©), UTC ì‹œê°„ê³¼ ë‰´ìš• ì‹œê°„ì„ í‘œì‹œí•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë´…ë‹ˆë‹¤.</p>

<p>â€˜functional_tests/test_all_users.pyâ€™ì„ ì—´ê³  ë‹¤ìŒ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ì„¸ìš”.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test_time_zone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">browser</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">get_full_url</span><span class="p">(</span><span class="s">"home"</span><span class="p">))</span>
    <span class="n">tz</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">browser</span><span class="p">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">"time-tz"</span><span class="p">).</span><span class="n">text</span>
    <span class="n">utc</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">browser</span><span class="p">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">"time-utc"</span><span class="p">).</span><span class="n">text</span>
    <span class="n">ny</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">browser</span><span class="p">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">"time-ny"</span><span class="p">).</span><span class="n">text</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">tz</span><span class="p">,</span> <span class="n">utc</span><span class="p">)</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">assertNotIn</span><span class="p">(</span><span class="n">ny</span><span class="p">,</span> <span class="p">[</span><span class="n">tz</span><span class="p">,</span> <span class="n">utc</span><span class="p">])</span>
</code></pre></div></div>
<p>ë°”ë¥´ì…€ë¡œë‚˜, UTC, ë‰´ìš•ì‹œê°„ì´ ë‹¤ë¥¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p>

<p>ì´ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ idê°€ <strong>time-tz</strong> ì¸ ìš”ì†Œê°€ ì—†ê¸° ë•Œë¬¸ì— ì‹¤íŒ¨í•©ë‹ˆë‹¤. index.html í…œí”Œë¦¿ì„ ì—´ê³  ì„¸ ë²ˆì§¸ ì—´ì„ í¸ì§‘í•˜ì„¸ìš”.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-md-4"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h2&gt;</span>Time Zones<span class="nt">&lt;/h2&gt;</span>
    <span class="nt">&lt;p&gt;</span> Barcelona: <span class="nt">&lt;span</span> <span class="na">id=</span><span class="s">"time-tz"</span><span class="nt">&gt;</span>{{now|time:"H:i"}}<span class="nt">&lt;/span&gt;&lt;/p&gt;</span>
    <span class="nt">&lt;p&gt;</span> UTC: <span class="nt">&lt;span</span> <span class="na">id=</span><span class="s">"time-utc"</span><span class="nt">&gt;</span>{{now|utc|time:"H:i"}}<span class="nt">&lt;/span&gt;&lt;/p&gt;</span>
    <span class="nt">&lt;p&gt;</span> New York: <span class="nt">&lt;span</span> <span class="na">id=</span><span class="s">"time-ny"</span><span class="nt">&gt;</span>
           {{now|timezone:"America/New_York"|time:"H:i"}}<span class="nt">&lt;/span&gt;&lt;/p&gt;</span>
    <span class="nt">&lt;p&gt;&lt;a</span> <span class="na">class=</span><span class="s">"btn btn-default"</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">role=</span><span class="s">"button"</span><span class="nt">&gt;</span>View details <span class="ni">&amp;raquo;</span><span class="nt">&lt;/a&gt;&lt;/p&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<p>time filterë§Œ ì‚¬ìš©í•˜ì—¬ ì‹œê°„ë§Œ í‘œì‹œí–ˆìŠµë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•˜ë©´ <strong>utc</strong> í•„í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ì–´ì„œ ì‹¤íŒ¨í•©ë‹ˆë‹¤. â€˜index.htmlâ€™ íŒŒì¼ ìƒë‹¨ì— ë‹¤ìŒ ì½”ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{% load tz %}
</code></pre></div></div>

<p>í…ŒìŠ¤íŠ¸ë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•˜ë©´ ë·°ê°€ í˜„ì¬ ë³€ìˆ˜ë¥¼ ì „ë‹¬í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ì´ë²ˆì—ëŠ” ì‹¤íŒ¨í•©ë‹ˆë‹¤. â€˜views.pyâ€™ì„ ì—´ê³  íŒŒì¼ ì‹œì‘ ë¶€ë¶„ì— ì„í¬íŠ¸ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.utils.timezone</span> <span class="kn">import</span> <span class="n">now</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">now</code> ë³€ìˆ˜ë¥¼ home ë·°ì— ì¶”ê°€í•©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">home</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">date</span><span class="p">.</span><span class="n">today</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">"taskbuster/index.html"</span><span class="p">,</span>
                       <span class="p">{</span><span class="s">'today'</span><span class="p">:</span> <span class="n">today</span><span class="p">,</span> <span class="s">'now'</span><span class="p">:</span> <span class="n">now</span><span class="p">()})</span>
</code></pre></div></div>

<p>í…ŒìŠ¤íŠ¸ë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•˜ë©´ í†µê³¼í•´ì•¼ í•©ë‹ˆë‹¤!</p>

<p>ì´ì œ íŠœí† ë¦¬ì–¼ì˜ ë§ˆì§€ë§‰ ë¶€ë¶„ì…ë‹ˆë‹¤. ë³€ê²½ ì‚¬í•­ì„ ì»¤ë°‹í•˜ëŠ” ê²ƒì„ ìŠì§€ ë§ˆì„¸ìš”.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git add .
$ git status
$ git commit -m "Internationalization and localization"
$ git push origin master
</code></pre></div></div>

<p>GitHubì™€ ê°™ì€ í´ë¼ìš°ë“œ ì €ì¥ì†Œì— í‘¸ì‹œí•˜ë ¤ëŠ” ê²½ìš°ì—ë§Œ ë§ˆì§€ë§‰ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”.</p>
:ET