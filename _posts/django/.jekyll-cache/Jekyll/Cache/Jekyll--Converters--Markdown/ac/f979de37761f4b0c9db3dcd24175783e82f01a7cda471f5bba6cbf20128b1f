I"ã<h1 id="django-rest-framework---serializer-relations">Django REST framework - Serializer relations</h1>

<hr />

<p><em>â€œBad programmers worry about the code. Good programmers worry about data structures and their relationships.â€</em></p>

<p><em>â€œë‚˜ìœ í”„ë¡œê·¸ë˜ë¨¸ëŠ” ì½”ë“œì— ëŒ€í•´ ê±±ì •í•©ë‹ˆë‹¤. ì¢‹ì€ í”„ë¡œê·¸ë˜ë¨¸ëŠ” ë°ì´í„° êµ¬ì¡°ì™€ ê·¸ ê´€ê³„ì— ëŒ€í•´ ê±±ì •í•©ë‹ˆë‹¤.â€</em></p>

<p><em>â€” Linus Torvalds</em></p>

<hr />

<h2 id="serializer-relations">Serializer relations</h2>
<p>relational fieldëŠ” ëª¨ë¸ ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚´ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤. <code class="language-plaintext highlighter-rouge">ForeignKey</code>, <code class="language-plaintext highlighter-rouge">ManyToManyField</code> ë° <code class="language-plaintext highlighter-rouge">OneToOneField</code> ê´€ê³„ëŠ” ë¬¼ë¡  ê´€ê³„ ë°  custom ê´€ê³„ (ì˜ˆ : <code class="language-plaintext highlighter-rouge">GenericForeignKey</code>)ë¥¼ ì—­ìœ¼ë¡œ ì ìš© í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<hr />

<p><strong>Note</strong>: ê´€ê³„í˜• í•„ë“œëŠ” <code class="language-plaintext highlighter-rouge">relations.py</code>ì— ì„ ì–¸ë˜ì–´ ìˆì§€ë§Œ, ê´€ìŠµì— ë”°ë¼ <code class="language-plaintext highlighter-rouge">serializer</code> ëª¨ë“ˆì—ì„œ ê°€ì ¸ì™€ì•¼í•˜ë©°, <code class="language-plaintext highlighter-rouge">rest_framework import serializer</code>ì—ì„œ ì‚¬ìš©í•˜ê³  <code class="language-plaintext highlighter-rouge">serializer.&lt;FiledName&gt;</code> ë¡œ í•„ë“œë¥¼ ì°¸ì¡°í•´ì•¼í•©ë‹ˆë‹¤.</p>

<hr />

<h3 id="inspecting-relationships">Inspecting relationships.</h3>
<p><code class="language-plaintext highlighter-rouge">ModelSerializer</code> í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ serializer í•„ë“œì™€ ê´€ê³„ê°€ ìë™ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤. ì´ëŸ¬í•œ ìë™ ìƒì„± í•„ë“œë¥¼ ê²€ì‚¬í•˜ëŠ” ê²ƒì€ ê´€ê³„ ìŠ¤íƒ€ì¼ì„ customí•˜ëŠ” ë°©ë²•ì„ ê²°ì •í•˜ëŠ”ë° ìœ ìš©í•œ ë„êµ¬ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br />
ì´ë ‡ê²Œ í•˜ë ¤ë©´, Djangoì˜ ì‰˜ì„ ì—´ê³ , <code class="language-plaintext highlighter-rouge">python manage.py shell</code>ì„ ì‚¬ìš©í•˜ê³ , serializer í´ë˜ìŠ¤ë¥¼ ê°€ì ¸ì™€ì„œ ì¸ìŠ¤í„´ìŠ¤í™”í•˜ê³ , ê°ì²´ í‘œí˜„ì„ ì¶œë ¥í•˜ì„¸ìš”.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">myapp.serializers</span> <span class="kn">import</span> <span class="n">AccountSerializer</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">serializer</span> <span class="o">=</span> <span class="n">AccountSerializer</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span> <span class="nb">repr</span><span class="p">(</span><span class="n">serializer</span><span class="p">)</span>  <span class="c1"># Or `print(repr(serializer))` in Python 3.x.
</span><span class="n">AccountSerializer</span><span class="p">():</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">IntegerField</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">'ID'</span><span class="p">,</span> <span class="n">read_only</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">CharField</span><span class="p">(</span><span class="n">allow_blank</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">owner</span> <span class="o">=</span> <span class="n">PrimaryKeyRelatedField</span><span class="p">(</span><span class="n">queryset</span><span class="o">=</span><span class="n">User</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nb">all</span><span class="p">())</span>
</code></pre></div></div>

<h2 id="api-reference">API Reference</h2>
<p>ë‹¤ì–‘í•œ ìœ í˜•ì˜ ê´€ê³„ í•„ë“œë¥¼ ì„¤ëª…í•˜ê¸° ìœ„í•´ ì˜ˆì œì— ëª‡ê°€ì§€ ê°„ë‹¨í•œ ëª¨ë¸ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ìš°ë¦¬ ëª¨ë¸ì€ ìŒì•… ì•¨ë²”ê³¼ ê° ì•¨ë²”ì— ìˆ˜ë¡ëœ íŠ¸ë™ì„ ëŒ€ìƒìœ¼ë¡œ í•©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Album</span><span class="p">(</span><span class="n">models</span><span class="p">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">album_name</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">artist</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Track</span><span class="p">(</span><span class="n">models</span><span class="p">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">album</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Album</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">'tracks'</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="p">.</span><span class="n">CASCADE</span><span class="p">)</span>
    <span class="n">order</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">IntegerField</span><span class="p">()</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">duration</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">IntegerField</span><span class="p">()</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">unique_together</span> <span class="o">=</span> <span class="p">(</span><span class="s">'album'</span><span class="p">,</span> <span class="s">'order'</span><span class="p">)</span>
        <span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="s">'order'</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">'%d: %s'</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">order</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">title</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="stringrelatedfield">StringRelatedField</h3>
<p><code class="language-plaintext highlighter-rouge">StringRelatedField</code>ëŠ” <code class="language-plaintext highlighter-rouge">__unicode__</code>ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ê´€ê³„ì˜ ëŒ€ìƒì„ ë‚˜íƒ€ë‚´ëŠ”ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br />
ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒ serializerì™€ ê°™ìŠµë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">AlbumSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="p">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
    <span class="n">tracks</span> <span class="o">=</span> <span class="n">serializers</span><span class="p">.</span><span class="n">StringRelatedField</span><span class="p">(</span><span class="n">many</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Album</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="s">'album_name'</span><span class="p">,</span> <span class="s">'artist'</span><span class="p">,</span> <span class="s">'tracks'</span><span class="p">)</span>
</code></pre></div></div>
<p>ë‹¤ìŒê³¼ ê°™ì€ í‘œí˜„ìœ¼ë¡œ serializerí•©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="s">'album_name'</span><span class="p">:</span> <span class="s">'Things We Lost In The Fire'</span><span class="p">,</span>
    <span class="s">'artist'</span><span class="p">:</span> <span class="s">'Low'</span><span class="p">,</span>
    <span class="s">'tracks'</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">'1: Sunflower'</span><span class="p">,</span>
        <span class="s">'2: Whitetail'</span><span class="p">,</span>
        <span class="s">'3: Dinosaur Act'</span><span class="p">,</span>
        <span class="p">...</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>
<p>ì´ í•„ë“œëŠ” ì½ê¸° ì „ìš©ì…ë‹ˆë‹¤.</p>

<p><strong>Arguments</strong>:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">many</code> : to-many ê´€ê³„ì— ì ìš©ë˜ë©´ ì´ ì¸ìˆ˜ëŠ” <code class="language-plaintext highlighter-rouge">True</code>ë¡œ ì„¤ì •í•´ì•¼í•©ë‹ˆë‹¤.</li>
</ul>

<h3 id="primarykeyrelatedfield">PrimaryKeyRelatedField</h3>
<p><code class="language-plaintext highlighter-rouge">primaryKeyRelatedField</code>ëŠ” primary keyë¥¼ ì‚¬ìš©í•˜ì—¬ ê´€ê³„ì˜ ëŒ€ìƒì„ ë‚˜íƒ€ë‚´ëŠ”ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br />
ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒ serializerê°€ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">AlbumSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="p">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
    <span class="n">tracks</span> <span class="o">=</span> <span class="n">serializers</span><span class="p">.</span><span class="n">PrimaryKeyRelatedField</span><span class="p">(</span><span class="n">many</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">read_only</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Album</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="s">'album_name'</span><span class="p">,</span> <span class="s">'artist'</span><span class="p">,</span> <span class="s">'tracks'</span><span class="p">)</span>
</code></pre></div></div>
<p>ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="s">'album_name'</span><span class="p">:</span> <span class="s">'Undun'</span><span class="p">,</span>
    <span class="s">'artist'</span><span class="p">:</span> <span class="s">'The Roots'</span><span class="p">,</span>
    <span class="s">'tracks'</span><span class="p">:</span> <span class="p">[</span>
        <span class="mi">89</span><span class="p">,</span>
        <span class="mi">90</span><span class="p">,</span>
        <span class="mi">91</span><span class="p">,</span>
        <span class="p">...</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>
<p>ê¸°ë³¸ì ìœ¼ë¡œ ì´ í•„ë“œëŠ” ì½ê¸°ì „ìš©ì´ì§€ë§Œ, <code class="language-plaintext highlighter-rouge">read_only</code>í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ ë™ì‘ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p><strong>Arguments</strong>:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">queryset</code> : í•„ë“œ ì…ë ¥ì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬ í•  ë•Œ ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ ì¡°íšŒì— ì‚¬ìš©ë˜ëŠ” ì¿¼ë¦¬ ì„¸íŠ¸ì…ë‹ˆë‹¤. ê´€ê³„ëŠ” ëª…ì‹œì ìœ¼ë¡œ ì¿¼ë¦¬ ì„¸íŠ¸ë¥¼ ì„¤ì •í•˜ê±°ë‚˜ <code class="language-plaintext highlighter-rouge">read_only=True</code>ë¡œ ì„¤ì •í•´ì•¼í•©ë‹ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">many</code> : to-many ê´€ê³„ì— ì ìš©ë˜ë©´ì´ ì¸ìˆ˜ë¥¼ <code class="language-plaintext highlighter-rouge">True</code>ë¡œ ì„¤ì •í•´ì•¼í•©ë‹ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">allow_null</code> : <code class="language-plaintext highlighter-rouge">True</code>ë¡œ ì„¤ì •í•˜ë©´ í•„ë“œì— <code class="language-plaintext highlighter-rouge">None</code> ê°’ ë˜ëŠ” null í—ˆìš© ê´€ê³„ì— ëŒ€í•œ ë¹ˆ ë¬¸ìì—´ì„ í—ˆìš©í•©ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ <code class="language-plaintext highlighter-rouge">False</code>ì…ë‹ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">pk_field</code> : primary key ê°’ì˜ serialzier/deserializerë¥¼ ì œì–´í•˜ëŠ” â€‹â€‹í•„ë“œë¡œ ì„¤ì •í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ â‚©pk_field=UUIDField(format=â€™hexâ€™)â‚©ëŠ” UUID primary keyë¥¼ ì»´íŒ©íŠ¸ 16 ì§„ìˆ˜ í‘œí˜„ìœ¼ë¡œ serializerí™”í•©ë‹ˆë‹¤.</li>
</ul>

<h3 id="hyperlinkedrelatedfield">HyperlinkedRelatedField</h3>
<p><code class="language-plaintext highlighter-rouge">HyperlinkedRelatedField</code>ëŠ” í•˜ì´í¼ë§í¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ê´€ê³„ì˜ ëŒ€ìƒì„ ë‚˜íƒ€ë‚´ëŠ”ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br />
ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒ serializerê°€ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">AlbumSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="p">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
    <span class="n">tracks</span> <span class="o">=</span> <span class="n">serializers</span><span class="p">.</span><span class="n">HyperlinkedRelatedField</span><span class="p">(</span>
        <span class="n">many</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">read_only</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">view_name</span><span class="o">=</span><span class="s">'track-detail'</span>
    <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Album</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="s">'album_name'</span><span class="p">,</span> <span class="s">'artist'</span><span class="p">,</span> <span class="s">'tracks'</span><span class="p">)</span>
</code></pre></div></div>
<p>ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="s">'album_name'</span><span class="p">:</span> <span class="s">'Graceland'</span><span class="p">,</span>
    <span class="s">'artist'</span><span class="p">:</span> <span class="s">'Paul Simon'</span><span class="p">,</span>
    <span class="s">'tracks'</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">'http://www.example.com/api/tracks/45/'</span><span class="p">,</span>
        <span class="s">'http://www.example.com/api/tracks/46/'</span><span class="p">,</span>
        <span class="s">'http://www.example.com/api/tracks/47/'</span><span class="p">,</span>
        <span class="p">...</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>
<p>ê¸°ë³¸ì ìœ¼ë¡œ ì´ í•„ë“œëŠ” ì½ê¸°ì „ìš©ì´ì§€ë§Œ, <code class="language-plaintext highlighter-rouge">read_only</code>í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ ë™ì‘ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<hr />

<p><strong>Note</strong>: ì´ í•„ë“œëŠ” <code class="language-plaintext highlighter-rouge">lookup_field</code> ë° <code class="language-plaintext highlighter-rouge">lookup_url_kwarg</code> ì¸ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¤ì •ëœëŒ€ë¡œ ë‹¨ì¼ URL í‚¤ì›Œë“œ ì¸ìˆ˜ë¥¼ í—ˆìš©í•˜ëŠ” URLì— ë§¤í•‘ë˜ëŠ” ê°œì²´ë¥¼ ìœ„í•´ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.<br />
URLì˜ ì¼ë¶€ë¡œ ë‹¨ì¼ primary key ë˜ëŠ” slug ì¸ìˆ˜ê°€ í¬í•¨ëœ URLì— ì í•©í™ë‹ˆë‹¤.<br />
ë³´ë‹¤ ë³µì¡í•œ í•˜ì´í¼ ë§í¬ë¡œ í‘œí˜„ì´ í•„ìš”í•œ ê²½ìš°ì—ëŠ” ì•„ë˜ì˜ <a href="http://www.django-rest-framework.org/api-guide/relations/#custom-hyperlinked-fields">custom hyperlinked field</a>ì„¹ì…˜ì— ì„¤ëª… ëœëŒ€ë¡œ customí•´ì•¼ í•©ë‹ˆë‹¤.</p>

<hr />

<p><strong>Arguments</strong>:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">view_name</code> : ê´€ê³„ì˜ ëŒ€ìƒìœ¼ë¡œ ì‚¬ìš©í•´ì•¼í•˜ëŠ” view ì´ë¦„ì…ë‹ˆë‹¤. <a href="">í‘œì¤€ ë¼ìš°í„° í´ë˜ìŠ¤</a>ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° <code class="language-plaintext highlighter-rouge">&lt;modelname&gt;-detail</code> í˜•ì‹ì˜ ë¬¸ìì—´ì´ ë©ë‹ˆë‹¤. <strong>í•„ìˆ˜.</strong></li>
  <li><code class="language-plaintext highlighter-rouge">queryset</code> : í•„ë“œ ì…ë ¥ì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬ í•  ë•Œ ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ ì¡°íšŒì— ì‚¬ìš©ë˜ëŠ” ì¿¼ë¦¬ì…‹ì…ë‹ˆë‹¤. ê´€ê³„ëŠ” ëª…ì‹œì ìœ¼ë¡œ ì¿¼ë¦¬ì…‹ì„ ì„¤ì •í•˜ê±°ë‚˜ <code class="language-plaintext highlighter-rouge">read_only=True</code>ë¡œ ì„¤ì •í•´ì•¼í•©ë‹ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">many</code> - to-many ê´€ê³„ì— ì ìš©ë˜ë©´ ì´ ì¸ìˆ˜ë¥¼ <code class="language-plaintext highlighter-rouge">True</code>ë¡œ ì„¤ì •í•´ì•¼í•©ë‹ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">allow_null</code> : <code class="language-plaintext highlighter-rouge">True</code>ë¡œ ì„¤ì •í•˜ë©´ í•„ë“œì— <code class="language-plaintext highlighter-rouge">None</code> ê°’ ë˜ëŠ” null í—ˆìš© ê´€ê³„ì— ëŒ€í•œ ë¹ˆ ë¬¸ìì—´ì„ í—ˆìš©í•©ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ <code class="language-plaintext highlighter-rouge">False</code>ì…ë‹ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">lookup_field</code> : ì¡°íšŒì— ì‚¬ìš©í•´ì•¼í•˜ëŠ” ëŒ€ìƒì˜ í•„ë“œì…ë‹ˆë‹¤. ì°¸ì¡° ëœ ë·°ì˜ URL í‚¤ì›Œë“œ ì¸ìˆ˜ì— í•´ë‹¹í•´ì•¼í•©ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ <code class="language-plaintext highlighter-rouge">pk</code>ì…ë‹ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">lookup_url_kwarg</code> : ì¡°íšŒ í•„ë“œì— í•´ë‹¹í•˜ëŠ” URL confì— ì •ì˜ëœ í‚¤ì›Œë“œ ì¸ìˆ˜ì˜ ì´ë¦„ì…ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">lookup_field</code>ì™€ ê°™ì€ ê°’ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">format</code> : format suffixë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, í•˜ì´í¼ ë§í¬ ëœ í•„ë“œëŠ” <code class="language-plaintext highlighter-rouge">format</code>ì¸ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜¤ë²„ë¼ì´ë“œí•˜ì§€ ì•ŠëŠ” í•œ ëŒ€ìƒì— ëŒ€í•´ ë™ì¼í•œ format suffixë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</li>
</ul>

<h3 id="slugrelatedfield">SlugRelatedField</h3>
<p><code class="language-plaintext highlighter-rouge">slugRelatedField</code>ëŠ” ëŒ€ìƒ í•„ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ê´€ê³„ ëŒ€ìƒì„ ë‚˜íƒ€ë‚´ëŠ”ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br />
ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒ serializerê°€ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">AlbumSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="p">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
    <span class="n">tracks</span> <span class="o">=</span> <span class="n">serializers</span><span class="p">.</span><span class="n">SlugRelatedField</span><span class="p">(</span>
        <span class="n">many</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">read_only</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">slug_field</span><span class="o">=</span><span class="s">'title'</span>
     <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Album</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="s">'album_name'</span><span class="p">,</span> <span class="s">'artist'</span><span class="p">,</span> <span class="s">'tracks'</span><span class="p">)</span>
</code></pre></div></div>
<p>ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="s">'album_name'</span><span class="p">:</span> <span class="s">'Dear John'</span><span class="p">,</span>
    <span class="s">'artist'</span><span class="p">:</span> <span class="s">'Loney Dear'</span><span class="p">,</span>
    <span class="s">'tracks'</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">'Airport Surroundings'</span><span class="p">,</span>
        <span class="s">'Everything Turns to You'</span><span class="p">,</span>
        <span class="s">'I Was Only Going Out'</span><span class="p">,</span>
        <span class="p">...</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>
<p>ê¸°ë³¸ì ìœ¼ë¡œ ì´ í•„ë“œëŠ” ì½ê¸° ì „ìš©ì´ì§€ë§Œ, <code class="language-plaintext highlighter-rouge">read_only</code>í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ ë™ì‘ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br />
<code class="language-plaintext highlighter-rouge">SlugRelatedField</code>ë¥¼ read-write í•„ë“œë¡œ ì‚¬ìš©í•  ë•ŒëŠ” ì¼ë°˜ì ìœ¼ë¡œ slug í•„ë“œê°€ <code class="language-plaintext highlighter-rouge">unique=True</code>ì¸ ëª¨ë¸ í•„ë“œì— í•´ë‹¹í•˜ëŠ”ì§€ í™•ì¸í•´ì•¼í•©ë‹ˆë‹¤.</p>

<p><strong>Arguments</strong>:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">slug_field</code> : ê·¸ê²ƒì„ ë‚˜íƒ€ë‚´ëŠ”ë° ì‚¬ìš©í•´ì•¼í•˜ëŠ” ëŒ€ìƒì˜ í•„ë“œì…ë‹ˆë‹¤. ì£¼ì–´ì§„ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê³ ìœ í•˜ê²Œ ì‹ë³„í•˜ëŠ” í•„ë“œì´ì–´ì•¼ í•©ë‹ˆë‹¤. ì˜ˆ: <code class="language-plaintext highlighter-rouge">username</code>. <strong>í•„ìˆ˜</strong></li>
  <li><code class="language-plaintext highlighter-rouge">queryset</code> : í•„ë“œ ì…ë ¥ì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬ í•  ë•Œ ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ ì¡°íšŒì— ì‚¬ìš©ë˜ëŠ” ì¿¼ë¦¬ì…‹ì…ë‹ˆë‹¤. ê´€ê³„ëŠ” ëª…ì‹œì ìœ¼ë¡œ ì¿¼ë¦¬ì…‹ì„ ì„¤ì •í•˜ê±°ë‚˜ <code class="language-plaintext highlighter-rouge">read_only=True</code>ë¡œ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">many</code> : to-many ê´€ê³„ì— ì ìš©ë˜ë©´ ì´ ì¸ìˆ˜ë¥¼ <code class="language-plaintext highlighter-rouge">True</code>ë¡œ ì„¤ì •í•´ì•¼í•©ë‹ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">allow_null</code> : <code class="language-plaintext highlighter-rouge">True</code>ë¡œ ì„¤ì •í•˜ë©´ í•„ë“œì— <code class="language-plaintext highlighter-rouge">None</code> ê°’ ë˜ëŠ” null í—ˆìš© ê´€ê³„ì— ëŒ€í•œ ë¹ˆ ë¬¸ìì—´ì„ í—ˆìš©í•©ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ <code class="language-plaintext highlighter-rouge">False</code>ì…ë‹ˆë‹¤.</li>
</ul>

<h3 id="hyperlinkedidentityfield">HyperlinkedIdentityField</h3>
<p>ì´ í•„ë“œëŠ” <code class="language-plaintext highlighter-rouge">HyperlinkedModelSerializer</code>ì˜ <code class="language-plaintext highlighter-rouge">url</code>í•„ë“œì™€ ê°™ì€ ë™ì¼í•œ ê´€ê³„ë¡œ ì ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°ì²´ì˜ ì†ì„±ì—ë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒ serializerê°€ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">AlbumSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="p">.</span><span class="n">HyperlinkedModelSerializer</span><span class="p">):</span>
    <span class="n">track_listing</span> <span class="o">=</span> <span class="n">serializers</span><span class="p">.</span><span class="n">HyperlinkedIdentityField</span><span class="p">(</span><span class="n">view_name</span><span class="o">=</span><span class="s">'track-list'</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Album</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="s">'album_name'</span><span class="p">,</span> <span class="s">'artist'</span><span class="p">,</span> <span class="s">'track_listing'</span><span class="p">)</span>
</code></pre></div></div>
<p>ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="s">'album_name'</span><span class="p">:</span> <span class="s">'The Eraser'</span><span class="p">,</span>
    <span class="s">'artist'</span><span class="p">:</span> <span class="s">'Thom Yorke'</span><span class="p">,</span>
    <span class="s">'track_listing'</span><span class="p">:</span> <span class="s">'http://www.example.com/api/track_list/12/'</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div></div>
<p>ì´ í•„ë“œëŠ” í•­ìƒ ì½ê¸° ì „ìš©ì…ë‹ˆë‹¤.</p>

<p><strong>Arguments</strong>:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">view_name</code> : ê´€ê³„ì˜ ëŒ€ìƒìœ¼ë¡œ ì‚¬ìš©í•´ì•¼í•˜ëŠ” view ì´ë¦„ì…ë‹ˆë‹¤. í‘œì¤€ ë¼ìš°í„° í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° <code class="language-plaintext highlighter-rouge">&lt;model_name&gt;-detail</code> í˜•ì‹ì˜ ë¬¸ìì—´ì´ ë©ë‹ˆë‹¤. <strong>í•„ìˆ˜</strong></li>
  <li><code class="language-plaintext highlighter-rouge">lookup_field</code> : ì¡°íšŒì— ì‚¬ìš©í•´ì•¼í•˜ëŠ” ëŒ€ìƒì˜ í•„ë“œì…ë‹ˆë‹¤. ì°¸ì¡° ëœ ë·°ì˜ URL í‚¤ì›Œë“œ ì¸ìˆ˜ì— í•´ë‹¹í•´ì•¼í•©ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ <code class="language-plaintext highlighter-rouge">'pk'</code>ì…ë‹ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">lookup_url_kwarg</code> : ì¡°íšŒ í•„ë“œì— í•´ë‹¹í•˜ëŠ” URL confì— ì •ì˜ ëœ í‚¤ì›Œë“œ ì¸ìˆ˜ì˜ ì´ë¦„ì…ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">lookup_field</code>ì™€ ê°™ì€ ê°’ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">format</code> -  format suffixë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° í•˜ì´í¼ ë§í¬ ëœ í•„ë“œëŠ” <code class="language-plaintext highlighter-rouge">format</code> ì¸ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬  ì˜¤ë²„ë¼ì´ë“œí•˜ì§€ ì•ŠëŠ”í•œ ëŒ€ìƒì— ëŒ€í•´ ë™ì¼í•œ  format suffixë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</li>
</ul>

<hr />

<h2 id="nested-relationships">Nested relationships</h2>
<p>ì¤‘ì²© ëœ ê´€ê³„ëŠ” serializerë¥¼ í•„ë“œë¡œ ì‚¬ìš©í•˜ì—¬ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br />
í•„ë“œê°€ to-many ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚´ëŠ”ë° ì‚¬ìš©ë˜ëŠ” ê²½ìš° serializerí•„ë“œì— <code class="language-plaintext highlighter-rouge">many=True</code>í”Œë˜ê·¸ë¥¼ ì¶”ê°€í•´ì•¼í•©ë‹ˆë‹¤.</p>

<h3 id="example">Example</h3>
<p>ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒ serializerê°€ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">TrackSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="p">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Track</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="s">'order'</span><span class="p">,</span> <span class="s">'title'</span><span class="p">,</span> <span class="s">'duration'</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">AlbumSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="p">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
    <span class="n">tracks</span> <span class="o">=</span> <span class="n">TrackSerializer</span><span class="p">(</span><span class="n">many</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">read_only</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Album</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="s">'album_name'</span><span class="p">,</span> <span class="s">'artist'</span><span class="p">,</span> <span class="s">'tracks'</span><span class="p">)</span>
</code></pre></div></div>
<p>ë‹¤ìŒê³¼ ê°™ì´ ì¤‘ì²©ëœ í‘œí˜„ìœ¼ë¡œ serializer í•©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">album</span> <span class="o">=</span> <span class="n">Album</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">create</span><span class="p">(</span><span class="n">album_name</span><span class="o">=</span><span class="s">"The Grey Album"</span><span class="p">,</span> <span class="n">artist</span><span class="o">=</span><span class="s">'Danger Mouse'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Track</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">create</span><span class="p">(</span><span class="n">album</span><span class="o">=</span><span class="n">album</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s">'Public Service Announcement'</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">245</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">Track</span><span class="p">:</span> <span class="n">Track</span> <span class="nb">object</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Track</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">create</span><span class="p">(</span><span class="n">album</span><span class="o">=</span><span class="n">album</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s">'What More Can I Say'</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">264</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">Track</span><span class="p">:</span> <span class="n">Track</span> <span class="nb">object</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Track</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">create</span><span class="p">(</span><span class="n">album</span><span class="o">=</span><span class="n">album</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s">'Encore'</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">159</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">Track</span><span class="p">:</span> <span class="n">Track</span> <span class="nb">object</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">serializer</span> <span class="o">=</span> <span class="n">AlbumSerializer</span><span class="p">(</span><span class="n">instance</span><span class="o">=</span><span class="n">album</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">serializer</span><span class="p">.</span><span class="n">data</span>
<span class="p">{</span>
    <span class="s">'album_name'</span><span class="p">:</span> <span class="s">'The Grey Album'</span><span class="p">,</span>
    <span class="s">'artist'</span><span class="p">:</span> <span class="s">'Danger Mouse'</span><span class="p">,</span>
    <span class="s">'tracks'</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="s">'order'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'title'</span><span class="p">:</span> <span class="s">'Public Service Announcement'</span><span class="p">,</span> <span class="s">'duration'</span><span class="p">:</span> <span class="mi">245</span><span class="p">},</span>
        <span class="p">{</span><span class="s">'order'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">'title'</span><span class="p">:</span> <span class="s">'What More Can I Say'</span><span class="p">,</span> <span class="s">'duration'</span><span class="p">:</span> <span class="mi">264</span><span class="p">},</span>
        <span class="p">{</span><span class="s">'order'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s">'title'</span><span class="p">:</span> <span class="s">'Encore'</span><span class="p">,</span> <span class="s">'duration'</span><span class="p">:</span> <span class="mi">159</span><span class="p">},</span>
        <span class="p">...</span>
    <span class="p">],</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="writable-nested-serializers">Writable nested serializers</h3>
<p>ê¸°ë³¸ì ìœ¼ë¡œ nested serializerëŠ” ì½ê¸° ì „ìš©ì…ë‹ˆë‹¤. ì¤‘ì²© ëœ serializer í•„ë“œì— ëŒ€í•œ ì“°ê¸° ì‘ì—…ì„ ì§€ì›í•˜ë ¤ë©´ <code class="language-plaintext highlighter-rouge">creat()</code>ì™€ <code class="language-plaintext highlighter-rouge">/</code>ë˜ëŠ” <code class="language-plaintext highlighter-rouge">update()</code>ë©”ì„œë“œë¥¼ ë§Œë“¤ì–´ ìì‹ ê´€ê³„ë¥¼ ì €ì¥í•˜ëŠ” ë°©ë²•ì„ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•´ì•¼í•©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">TrackSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="p">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Track</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="s">'order'</span><span class="p">,</span> <span class="s">'title'</span><span class="p">,</span> <span class="s">'duration'</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">AlbumSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="p">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
    <span class="n">tracks</span> <span class="o">=</span> <span class="n">TrackSerializer</span><span class="p">(</span><span class="n">many</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Album</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="s">'album_name'</span><span class="p">,</span> <span class="s">'artist'</span><span class="p">,</span> <span class="s">'tracks'</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">validated_data</span><span class="p">):</span>
        <span class="n">tracks_data</span> <span class="o">=</span> <span class="n">validated_data</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="s">'tracks'</span><span class="p">)</span>
        <span class="n">album</span> <span class="o">=</span> <span class="n">Album</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">create</span><span class="p">(</span><span class="o">**</span><span class="n">validated_data</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">track_data</span> <span class="ow">in</span> <span class="n">tracks_data</span><span class="p">:</span>
            <span class="n">Track</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">create</span><span class="p">(</span><span class="n">album</span><span class="o">=</span><span class="n">album</span><span class="p">,</span> <span class="o">**</span><span class="n">track_data</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">album</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'album_name'</span><span class="p">:</span> <span class="s">'The Grey Album'</span><span class="p">,</span>
    <span class="s">'artist'</span><span class="p">:</span> <span class="s">'Danger Mouse'</span><span class="p">,</span>
    <span class="s">'tracks'</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="s">'order'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'title'</span><span class="p">:</span> <span class="s">'Public Service Announcement'</span><span class="p">,</span> <span class="s">'duration'</span><span class="p">:</span> <span class="mi">245</span><span class="p">},</span>
        <span class="p">{</span><span class="s">'order'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">'title'</span><span class="p">:</span> <span class="s">'What More Can I Say'</span><span class="p">,</span> <span class="s">'duration'</span><span class="p">:</span> <span class="mi">264</span><span class="p">},</span>
        <span class="p">{</span><span class="s">'order'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s">'title'</span><span class="p">:</span> <span class="s">'Encore'</span><span class="p">,</span> <span class="s">'duration'</span><span class="p">:</span> <span class="mi">159</span><span class="p">},</span>
    <span class="p">],</span>
<span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">serializer</span> <span class="o">=</span> <span class="n">AlbumSerializer</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">serializer</span><span class="p">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="bp">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">serializer</span><span class="p">.</span><span class="n">save</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">Album</span><span class="p">:</span> <span class="n">Album</span> <span class="nb">object</span><span class="o">&gt;</span>
</code></pre></div></div>

<hr />

<h2 id="custom-relational-fields">Custom relational fields</h2>
<p>ê¸°ì¡´ì˜ ê´€ê³„í˜• ìŠ¤íƒ€ì¼ì´ í•„ìš”í•˜ì§€ ì•Šì€ ê²½ìš°ê°€ ë“œë¬¼ì§€ë§Œ ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì¶œë ¥ í‘œí˜„ì„ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ì •í™•í•˜ê²Œ ì„¤ëª…í•˜ëŠ” ì™„ë²½í•œ custom relational fieldë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br />
custom relational fieldë¥¼ êµ¬í˜„í•˜ë ¤ë©´ RelatedFieldë¥¼ ì˜¤ë²„ë¼ì´ë“œí•˜ê³  <code class="language-plaintext highlighter-rouge">.to_representation(self, value)</code> ë©”ì„œë“œë¥¼ êµ¬í˜„í•´ì•¼í•©ë‹ˆë‹¤. ì´ ë©”ì„œë“œëŠ” í•„ë“œì˜ ëŒ€ìƒì„ <code class="language-plaintext highlighter-rouge">value</code>ì¸ìˆ˜ë¡œ ì‚¬ìš©í•˜ê³  ëŒ€ìƒì„ serializerí•˜ëŠ”ë° ì‚¬ìš©í•´ì•¼í•˜ëŠ” í‘œí˜„ì„ ë°˜í™˜í•´ì•¼í•©ë‹ˆë‹¤. <code class="language-plaintext highlighter-rouge">value</code>ì¸ìˆ˜ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ì…ë‹ˆë‹¤.<br />
 read-write relational fieldë¥¼ êµ¬í˜„í•˜ë ¤ë©´ <code class="language-plaintext highlighter-rouge">.to_internal_value(self, data)</code> ë©”ì†Œë“œë„ êµ¬í˜„í•´ì•¼í•©ë‹ˆë‹¤.<br />
contextdë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì  ì¿¼ë¦¬ì…‹ì„ ì œê³µí•˜ë ¤ë©´ í´ë˜ìŠ¤ì—ì„œ <code class="language-plaintext highlighter-rouge">.queryset</code>ì„ ì§€ì •í•˜ê±°ë‚˜ í•„ë“œë¥¼ ì´ˆê¸°í™” í•  ë•Œ <code class="language-plaintext highlighter-rouge">.get_queryset(self)</code>ë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p>

<h3 id="example-1">Example</h3>
<p>ì˜ˆë¥¼ ë“¤ì–´, ìˆœì„œ, ì œëª©, ê¸°ê°„ì„ ì‚¬ìš©í•˜ì—¬ íŠ¸ë™ì„ custom ë¬¸ìì—´ í‘œí˜„ìœ¼ë¡œ serializerí•˜ëŠ” relational fieldë¥¼ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">time</span>

<span class="k">class</span> <span class="nc">TrackListingField</span><span class="p">(</span><span class="n">serializers</span><span class="p">.</span><span class="n">RelatedField</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">to_representation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">duration</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">'%M:%S'</span><span class="p">,</span> <span class="n">time</span><span class="p">.</span><span class="n">gmtime</span><span class="p">(</span><span class="n">value</span><span class="p">.</span><span class="n">duration</span><span class="p">))</span>
        <span class="k">return</span> <span class="s">'Track %d: %s (%s)'</span> <span class="o">%</span> <span class="p">(</span><span class="n">value</span><span class="p">.</span><span class="n">order</span><span class="p">,</span> <span class="n">value</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">AlbumSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="p">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
    <span class="n">tracks</span> <span class="o">=</span> <span class="n">TrackListingField</span><span class="p">(</span><span class="n">many</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Album</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="s">'album_name'</span><span class="p">,</span> <span class="s">'artist'</span><span class="p">,</span> <span class="s">'tracks'</span><span class="p">)</span>
</code></pre></div></div>
<p>ì´ custom í•„ë“œëŠ” ë‹¤ìŒ í‘œí˜„ìœ¼ë¡œ serializer ë©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="s">'album_name'</span><span class="p">:</span> <span class="s">'Sometimes I Wish We Were an Eagle'</span><span class="p">,</span>
    <span class="s">'artist'</span><span class="p">:</span> <span class="s">'Bill Callahan'</span><span class="p">,</span>
    <span class="s">'tracks'</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">'Track 1: Jim Cain (04:39)'</span><span class="p">,</span>
        <span class="s">'Track 2: Eid Ma Clack Shaw (04:19)'</span><span class="p">,</span>
        <span class="s">'Track 3: The Wind and the Dove (04:34)'</span><span class="p">,</span>
        <span class="p">...</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />

<h2 id="custom-hyperlinked-fields">Custom hyperlinked fields</h2>
<p>ì–´ë–¤ ê²½ìš°ì—ëŠ” í•˜ë‚˜ ì´ìƒì˜ ì¡°íšŒ í•„ë“œê°€ í•„ìš”í•œ URLì„ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ í•˜ì´í¼ë§í¬ í•„ë“œì˜ ë™ì‘ì„ custom í•´ì•¼ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.<br />
<code class="language-plaintext highlighter-rouge">HyperlinkedRelatedField</code>ë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•˜ì—¬ ì´ ì‘ì—…ì„ ìˆ˜í–‰ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜¤ë²„ë¼ì´ë“œ í•  ìˆ˜ ìˆëŠ” ë‘ ê°€ì§€ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤.</p>

<h4 id="get_urlself-obj-view_name-request-format">get_url(self, obj, view_name, request, format)</h4>
<p><code class="language-plaintext highlighter-rouge">get_url</code> ë©”ì„œë“œëŠ” ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ URL í‘œí˜„ì— ë§¤í•‘í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.<br />
<code class="language-plaintext highlighter-rouge">view_name</code> ë° <code class="language-plaintext highlighter-rouge">lookup_field</code> ì†ì„±ì´ URL confì™€ ì •í™•í•˜ê²Œ ì¼ì¹˜í•˜ë„ë¡ êµ¬ì„±ë˜ì§€ ì•Šì€ ê²½ìš° <code class="language-plaintext highlighter-rouge">NoReverseMatch</code>ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<h4 id="get_objectself-queryset-view_name-view_args-view_kwargs">get_object(self, queryset, view_name, view_args, view_kwargs)</h4>
<p>ì“°ê¸° ê°€ëŠ¥í•œ í•˜ì´í¼ë§í¬ í•„ë“œë¥¼ ì§€ì›í•˜ë ¤ë©´ ë“¤ì–´ì˜¤ëŠ” URLì„ ê·¸ë“¤ì´ ë‚˜íƒ€ë‚´ëŠ” ê°ì²´ë¡œ ë‹¤ì‹œ ë§¤í•‘í•˜ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">get_object</code>ë¥¼ ì˜¤ë²„ë¼ì´ë“œí•´ì•¼í•©ë‹ˆë‹¤. ì½ê¸° ì „ìš© í•˜ì´í¼ë§í¬ í•„ë“œì˜ ê²½ìš° ì´ ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.<br />
ì´ ë©”ì„œë“œì˜ ë°˜í™˜ ê°’ì€ ì¼ì¹˜í•˜ëŠ” URL conf ì¸ìˆ˜ì— í•´ë‹¹í•˜ëŠ” ê°ì²´ì´ì–´ì•¼ í•©ë‹ˆë‹¤.<br />
<code class="language-plaintext highlighter-rouge">ObjectDoesNotExist</code> ì˜ˆì™¸ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<h3 id="example-2">Example</h3>
<p>ë‹¤ìŒê³¼ ê°™ì´ ë‘ ê°œì˜ í‚¤ì›Œë“œ ì¸ìˆ˜ë¥¼ ì·¨í•˜ëŠ” ê³ ê° ê°ì²´ì˜ URLì´ ìˆë‹¤ê³  ê°€ì •í•´ë³´ì„¸ìš”.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/api/&lt;organization_slug&gt;/customers/&lt;customer_pk&gt;/
</code></pre></div></div>
<p>ë‹¨ì¼ì˜ lookup field ë§Œì„ ë°›ì•„ë“¤ì´ëŠ” ê¸°ë³¸ êµ¬í˜„ì—ì„œëŠ” ì´ê²ƒì„ í‘œí˜„í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.<br />
ì´ ê²½ìš° ìš°ë¦¬ê°€ ì›í•˜ëŠ” ë™ì‘ì„ ì–»ìœ¼ë ¤ë©´ <code class="language-plaintext highlighter-rouge">HyperlinkedRelatedField</code>ë¥¼ ì˜¤ë²„ë¼ì´ë“œí•´ì•¼í•©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">rest_framework</span> <span class="kn">import</span> <span class="n">serializers</span>
<span class="kn">from</span> <span class="nn">rest_framework.reverse</span> <span class="kn">import</span> <span class="n">reverse</span>

<span class="k">class</span> <span class="nc">CustomerHyperlink</span><span class="p">(</span><span class="n">serializers</span><span class="p">.</span><span class="n">HyperlinkedRelatedField</span><span class="p">):</span>
    <span class="c1"># We define these as class attributes, so we don't need to pass them as arguments.
</span>    <span class="n">view_name</span> <span class="o">=</span> <span class="s">'customer-detail'</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="n">Customer</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nb">all</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">view_name</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="nb">format</span><span class="p">):</span>
        <span class="n">url_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">'organization_slug'</span><span class="p">:</span> <span class="n">obj</span><span class="p">.</span><span class="n">organization</span><span class="p">.</span><span class="n">slug</span><span class="p">,</span>
            <span class="s">'customer_pk'</span><span class="p">:</span> <span class="n">obj</span><span class="p">.</span><span class="n">pk</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">reverse</span><span class="p">(</span><span class="n">view_name</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="n">url_kwargs</span><span class="p">,</span> <span class="n">request</span><span class="o">=</span><span class="n">request</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_object</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">view_name</span><span class="p">,</span> <span class="n">view_args</span><span class="p">,</span> <span class="n">view_kwargs</span><span class="p">):</span>
        <span class="n">lookup_kwargs</span> <span class="o">=</span> <span class="p">{</span>
           <span class="s">'organization__slug'</span><span class="p">:</span> <span class="n">view_kwargs</span><span class="p">[</span><span class="s">'organization_slug'</span><span class="p">],</span>
           <span class="s">'pk'</span><span class="p">:</span> <span class="n">view_kwargs</span><span class="p">[</span><span class="s">'customer_pk'</span><span class="p">]</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">get_queryset</span><span class="p">().</span><span class="n">get</span><span class="p">(</span><span class="o">**</span><span class="n">lookup_kwargs</span><span class="p">)</span>
</code></pre></div></div>
<p>ì´ ìŠ¤íƒ€ì¼ì„ generic view ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ë ¤ëŠ” ê²½ìš° ì˜¬ë°”ë¥¸ ì¡°íšŒ ë™ì‘ì„ ì–»ìœ¼ë ¤ë©´ ë·°ì—ì„œ <code class="language-plaintext highlighter-rouge">.get_object</code>ë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•´ì•¼í•©ë‹ˆë‹¤.<br />
ì¼ë°˜ì ìœ¼ë¡œ ê°€ëŠ¥í•œ ê²½ìš° API í‘œí˜„ì— í”Œë« ìŠ¤íƒ€ì¼ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ì§€ë§Œ, ì¤‘ì²©ëœ URL ìŠ¤íƒ€ì¼ì€ ì ë‹¹íˆ ì‚¬ìš©í•˜ë©´ í•©ë¦¬ì ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<hr />

<h2 id="further-notes">Further notes</h2>

<h3 id="the-queryset-argument">The <code class="language-plaintext highlighter-rouge">queryset</code> argument</h3>
<p><code class="language-plaintext highlighter-rouge">queryset</code>ì¸ìˆ˜ëŠ” ì“°ê¸° ê°€ëŠ¥í•œ ê´€ê³„ í•„ë“œì—ë§Œ í•„ìš”í•©ë‹ˆë‹¤. ì´ ê²½ìš° ê¸°ë³¸ ì¸ìŠ¤í„´ìŠ¤ ì‚¬ìš©ì ì…ë ¥ ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ë¡œ ë§¤í•‘ë˜ëŠ” ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ ì¡°íšŒë¥¼ ìˆ˜í–‰í•˜ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤.<br />
ë²„ì „ 2.xì—ì„œëŠ” serializer í´ë˜ìŠ¤ê°€ <code class="language-plaintext highlighter-rouge">ModelSerializer</code> í´ë˜ìŠ¤ê°€ ì‚¬ìš©ë˜ëŠ” ê²½ìš° <code class="language-plaintext highlighter-rouge">queryset</code> ì¸ìˆ˜ë¥¼ ìë™ìœ¼ë¡œ ê²°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br />
ì´ ë™ì‘ì€ ì´ì œ ì“°ê¸° ê°€ëŠ¥í•œ ê´€ê³„í˜• í•„ë“œì— ëŒ€í•´ ëª…ì‹œì  ì¿¼ë¦¬ì…‹ ì¸ìˆ˜ë¥¼ í•­ìƒ ì‚¬ìš©í•˜ì—¬ ëŒ€ì²´ë˜ì—ˆìŠµë‹ˆë‹¤.<br />
ì´ë ‡ê²Œí•˜ë©´ <code class="language-plaintext highlighter-rouge">ModelSerializer</code>ì´ ì œê³µí•˜ëŠ” ìˆ¨ê²¨ì§„ â€˜magicâ€™ì–‘ì´ ì¤„ì–´ë“¤ê³  í•„ë“œì˜ ë™ì‘ì´ ë” ëª…í™•í•´ì§€ë©° <code class="language-plaintext highlighter-rouge">ModelSerializer</code> shortcutë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ ì™„ì „í•˜ê²Œ ëª…ì‹œì ì¸ <code class="language-plaintext highlighter-rouge">Serializer</code>í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì‰½ë‹¤ëŠ” ê²ƒì„ ë³´ì¦í•©ë‹ˆë‹¤.</p>

<h3 id="customizing-the-html-display">Customizing the HTML display</h3>
<p>ëª¨ë¸ì˜ ë‚´ì¥ <code class="language-plaintext highlighter-rouge">__str__</code>ë©”ì„œë“œëŠ” <code class="language-plaintext highlighter-rouge">choices</code>ì†ì„±ì„ ì±„ìš°ëŠ”ë° ì‚¬ìš© ëœ ê°ì²´ì˜ ë¬¸ìì—´ í‘œí˜„ì„ ìƒì„±í•˜ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ëŸ¬í•œ ì„ íƒì‚¬í•­ì€ íƒìƒ‰ ê°€ëŠ¥í•œ APIì—ì„œ ì„ íƒëœ HTML ì…ë ¥ì„ ì±„ìš°ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤.<br />
ì´ëŸ¬í•œ ì…ë ¥ì— ëŒ€í•´ custom ëœ í‘œí˜„ì„ ì œê³µí•˜ë ¤ë©´ <code class="language-plaintext highlighter-rouge">RelatedField</code> ì„œë¸Œ í´ë˜ìŠ¤ì˜ <code class="language-plaintext highlighter-rouge">display_value()</code>ë¥¼ ëŒ€ì²´í•˜ì„¸ìš”. ì´ ë©”ì„œë“œëŠ” ëª¨ë¸ ê°ì²´ë¥¼ ìˆ˜ì‹ í•˜ê³  ëª¨ë¸ ê°ì²´ë¥¼ ë‚˜íƒ€ë‚´ëŠ”ë° ì í•©í•œ ë¬¸ìì—´ì„ ë°˜í™˜í•´ì•¼í•©ë‹ˆë‹¤. ì˜ˆ:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">TrackPrimaryKeyRelatedField</span><span class="p">(</span><span class="n">serializers</span><span class="p">.</span><span class="n">PrimaryKeyRelatedField</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">display_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">'Track: %s'</span> <span class="o">%</span> <span class="p">(</span><span class="n">instance</span><span class="p">.</span><span class="n">title</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="select-field-cutoffs">Select field cutoffs</h3>
<p>browsable APIì—ì„œ ë Œë”ë§ ë  ë•Œ ê´€ê³„í˜• í•„ë“œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ìµœëŒ€ 1000ê°œì˜ ì„ íƒ ê°€ëŠ¥í•œ í•­ëª©ë§Œ í‘œì‹œí•©ë‹ˆë‹¤. ë” ë§ì€ í•­ëª©ì´ ìˆìœ¼ë©´ â€œMore than 1000 itemsâ€¦â€œì™€ í•¨ê»˜ ë¹„í™œì„±í™” ëœ ì˜µì…˜ì´ í‘œì‹œë©ë‹ˆë‹¤.<br />
ì´ ë™ì‘ì€ ë§¤ìš° ë§ì€ ìˆ˜ì˜ ê´€ê³„ê°€ í‘œì‹œë˜ì–´ í—ˆìš©ë˜ëŠ” ë²”ìœ„ ë‚´ì—ì„œ í…œí”Œë¦¿ì„ ë Œë”ë§ í•  ìˆ˜ ì—†ë„ë¡ í•˜ê¸° ìœ„í•œ ê²ƒì…ë‹ˆë‹¤.<br />
ì´ ë™ì‘ì„ ì œì–´í•˜ëŠ”ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë‘ ê°œì˜ í‚¤ì›Œë“œì¸ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">html_cutoff</code> : ì„¤ì •ëœ ê²½ìš° HTML ì„ íƒ ë“œë¡­ ë‹¤ìš´ì— í‘œì‹œ ë  ìµœëŒ€ ì„ íƒ í•­ëª© ìˆ˜ì…ë‹ˆë‹¤. ì œí•œì„ í•´ì œí•˜ë ¤ë©´ <code class="language-plaintext highlighter-rouge">None</code>ìœ¼ë¡œ ì„¤ì •í•˜ì‹­ì‹œì˜¤. ê¸°ë³¸ê°’ì€ <code class="language-plaintext highlighter-rouge">1000</code>ì…ë‹ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">html_cutoff_text</code> - ì„¤ì •ëœ ê²½ìš° HTML ì„ íƒ ë“œë¡­ ë‹¤ìš´ì—ì„œ ìµœëŒ€ í•­ëª© ìˆ˜ê°€ ì˜ë¦° ê²½ìš° í…ìŠ¤íŠ¸ í‘œì‹œë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ <code class="language-plaintext highlighter-rouge">"More than {count} itemsâ€¦"</code>ì…ë‹ˆë‹¤.</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">HTML_SELECT_CUTOFF</code> ë° <code class="language-plaintext highlighter-rouge">HTML_SELECT_CUTOFF_TEXT</code> ì„¤ì •ì„ ì‚¬ìš©í•˜ì—¬ ì „ì—­ìœ¼ë¡œ ì œì–´ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.<br />
ì»·ì˜¤í”„ê°€ ì ìš©ë˜ëŠ” ê²½ìš° HTML ì–‘ì‹ì— ì¼ë°˜ ì…ë ¥ í•„ë“œë¥¼ ëŒ€ì‹  ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <code class="language-plaintext highlighter-rouge">style</code> í‚¤ì›Œë“œ ì¸ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ë©ë‹ˆë‹¤. ì˜ˆ :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">assigned_to</span> <span class="o">=</span> <span class="n">serializers</span><span class="p">.</span><span class="n">SlugRelatedField</span><span class="p">(</span>
   <span class="n">queryset</span><span class="o">=</span><span class="n">User</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nb">all</span><span class="p">(),</span>
   <span class="n">slug_field</span><span class="o">=</span><span class="s">'username'</span><span class="p">,</span>
   <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s">'base_template'</span><span class="p">:</span> <span class="s">'input.html'</span><span class="p">}</span>
<span class="p">)</span>
</code></pre></div></div>

<h3 id="reverse-relations">Reverse relations</h3>
<p>reverse ê´€ê³„ëŠ” <code class="language-plaintext highlighter-rouge">ModelSerializer</code>ë° <code class="language-plaintext highlighter-rouge">HyperlinkedModelSerializer</code>í´ë˜ìŠ¤ì— ìë™ìœ¼ë¡œ í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. reverse ê´€ê³„ë¥¼ í¬í•¨ ì‹œí‚¤ë ¤ë©´ í•„ë“œ ëª©ë¡ì— ëª…ì‹œì ìœ¼ë¡œ ì¶”ê°€í•´ì•¼í•©ë‹ˆë‹¤. ì˜ˆ:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">AlbumSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="p">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="s">'tracks'</span><span class="p">,</span> <span class="p">...)</span>
</code></pre></div></div>
<p>ì¼ë°˜ì ìœ¼ë¡œ í•„ë“œ ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì ì ˆí•œ <code class="language-plaintext highlighter-rouge">related_name</code>ì¸ìˆ˜ë¥¼ ê´€ê³„ì— ì„¤ì •í–ˆëŠ”ì§€ í™•ì¸í•´ì•¼í•©ë‹ˆë‹¤. ì˜ˆ:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Track</span><span class="p">(</span><span class="n">models</span><span class="p">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">album</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Album</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s">'tracks'</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="p">.</span><span class="n">CASCADE</span><span class="p">)</span>
    <span class="p">...</span>
</code></pre></div></div>
<p>reverse ê´€ê³„ì— ëŒ€í•œ ê´€ë ¨ ì´ë¦„ì„ ì„¤ì •í•˜ì§€ ì•Šì€ ê²½ìš° <code class="language-plaintext highlighter-rouge">fields</code>ì¸ìˆ˜ì— ìë™ìœ¼ë¡œ ìƒì„± ëœ ê´€ë ¨ ì´ë¦„ì„ ì‚¬ìš©í•´ì•¼í•©ë‹ˆë‹¤. ì˜ˆ:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">AlbumSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="p">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="s">'track_set'</span><span class="p">,</span> <span class="p">...)</span>
</code></pre></div></div>
<p>ìì„¸í•œ ë‚´ìš©ì€ <a href="https://docs.djangoproject.com/en/1.10/topics/db/queries/#following-relationships-backward">reverse relationships</a>ì— ëŒ€í•œ Django ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.</p>

<h3 id="generic-relationships">Generic relationships</h3>
<p>ì¼ë°˜ì ì¸ foreign keyë¥¼ serializerí•˜ë ¤ë©´ ê´€ê³„ì˜ ëŒ€ìƒì„ serializerí™”í•˜ëŠ” ë°©ë²•ì„ ëª…ì‹œì ìœ¼ë¡œ ê²°ì •í•˜ê¸° ìœ„í•´ custom í•„ë“œë¥¼ ì •ì˜í•´ì•¼í•©ë‹ˆë‹¤.<br />
ì˜ˆë¥¼ ë“¤ì–´, ë‹¤ë¥¸ ì„ì˜ì˜ ëª¨ë¸ê³¼ ì¼ë°˜ì ì¸ ê´€ê³„ê°€ ìˆëŠ” íƒœê·¸ì— ëŒ€í•´ ë‹¤ìŒ ëª¨ë¸ì´ ì œê³µë©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">TaggedItem</span><span class="p">(</span><span class="n">models</span><span class="p">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="s">"""
    Tags arbitrary model instances using a generic relation.

    See: https://docs.djangoproject.com/en/stable/ref/contrib/contenttypes/
    """</span>
    <span class="n">tag_name</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">SlugField</span><span class="p">()</span>
    <span class="n">content_type</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">ContentType</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="p">.</span><span class="n">CASCADE</span><span class="p">)</span>
    <span class="n">object_id</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">PositiveIntegerField</span><span class="p">()</span>
    <span class="n">tagged_object</span> <span class="o">=</span> <span class="n">GenericForeignKey</span><span class="p">(</span><span class="s">'content_type'</span><span class="p">,</span> <span class="s">'object_id'</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">tag_name</span>
</code></pre></div></div>
<p>ê·¸ë¦¬ê³  ë‹¤ìŒ ë‘ ëª¨ë¸ì˜ ê´€ë ¨ íƒœê·¸ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Bookmark</span><span class="p">(</span><span class="n">models</span><span class="p">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="s">"""
    A bookmark consists of a URL, and 0 or more descriptive tags.
    """</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">URLField</span><span class="p">()</span>
    <span class="n">tags</span> <span class="o">=</span> <span class="n">GenericRelation</span><span class="p">(</span><span class="n">TaggedItem</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Note</span><span class="p">(</span><span class="n">models</span><span class="p">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="s">"""
    A note consists of some text, and 0 or more descriptive tags.
    """</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">tags</span> <span class="o">=</span> <span class="n">GenericRelation</span><span class="p">(</span><span class="n">TaggedItem</span><span class="p">)</span>
</code></pre></div></div>
<p>íƒœê·¸ê°€ ì§€ì •ëœ ì¸ìŠ¤í„´ìŠ¤ë¥¼ serializerí•˜ëŠ”ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” custom í•„ë“œë¥¼ ì •ì˜í•˜ì—¬ ê° ì¸ìŠ¤í„´ìŠ¤ì˜ ìœ í˜•ì„ ì‚¬ìš©í•˜ì—¬ serializer í•´ì•¼í•˜ëŠ” ë°©ì‹ì„ ê²°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">TaggedObjectRelatedField</span><span class="p">(</span><span class="n">serializers</span><span class="p">.</span><span class="n">RelatedField</span><span class="p">):</span>
    <span class="s">"""
    A custom field to use for the `tagged_object` generic relationship.
    """</span>

    <span class="k">def</span> <span class="nf">to_representation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="s">"""
        Serialize tagged objects to a simple textual representation.
        """</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Bookmark</span><span class="p">):</span>
            <span class="k">return</span> <span class="s">'Bookmark: '</span> <span class="o">+</span> <span class="n">value</span><span class="p">.</span><span class="n">url</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Note</span><span class="p">):</span>
            <span class="k">return</span> <span class="s">'Note: '</span> <span class="o">+</span> <span class="n">value</span><span class="p">.</span><span class="n">text</span>
        <span class="k">raise</span> <span class="nb">Exception</span><span class="p">(</span><span class="s">'Unexpected type of tagged object'</span><span class="p">)</span>
</code></pre></div></div>
<p>ê´€ê³„ì˜ íƒ€ê²Ÿì´ ì¤‘ì²© ëœ í‘œí˜„ì„ í•„ìš”ë¡œ í•˜ëŠ” ê²½ìš° <code class="language-plaintext highlighter-rouge">.to_representation()</code>ë©”ì„œë“œ ë‚´ì—ì„œ í•„ìš”í•œ serializerë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">def</span> <span class="nf">to_representation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="s">"""
        Serialize bookmark instances using a bookmark serializer,
        and note instances using a note serializer.
        """</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Bookmark</span><span class="p">):</span>
            <span class="n">serializer</span> <span class="o">=</span> <span class="n">BookmarkSerializer</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Note</span><span class="p">):</span>
            <span class="n">serializer</span> <span class="o">=</span> <span class="n">NoteSerializer</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nb">Exception</span><span class="p">(</span><span class="s">'Unexpected type of tagged object'</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">serializer</span><span class="p">.</span><span class="n">data</span>
</code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">GenericRelation</code>í•„ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í‘œí˜„ëœ reverse generic keyëŠ” ê´€ê³„ì˜ ëŒ€ìƒ ìœ í˜•ì´ í•­ìƒ ì•Œë ¤ì ¸ ìˆìœ¼ë¯€ë¡œ ì¼ë°˜ ê´€ê³„í˜• í•„ë“œ ìœ í˜•ì„ ì‚¬ìš©í•˜ì—¬ serializerí™” í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br />
ë” ìì„¸í•œ ì •ë³´ëŠ” <a href="https://docs.djangoproject.com/en/1.10/ref/contrib/contenttypes/#id1">the Django documentation on generic relations</a>ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.</p>

<h3 id="manytomanyfields-with-a-through-model">ManyToManyFields with a Through Model</h3>
<p>ê¸°ë³¸ì ìœ¼ë¡œ ì§€ì •ëœ <code class="language-plaintext highlighter-rouge">through</code> ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ <code class="language-plaintext highlighter-rouge">ManyToManyField</code>ë¥¼ ëŒ€ìƒìœ¼ë¡œí•˜ëŠ” ê´€ê³„í˜• í•„ë“œëŠ” ì½ê¸°ì „ìš©ìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤.<br />
through ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ <code class="language-plaintext highlighter-rouge">manyToManyField</code>ë¥¼ ê°€ë¦¬í‚¤ëŠ” ê´€ê³„ í•„ë“œë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•˜ë©´ <code class="language-plaintext highlighter-rouge">read_only</code>ë¥¼ <code class="language-plaintext highlighter-rouge">True</code>ë¡œ ì„¤ì •í•˜ì„¸ìš”.</p>

<hr />

<h2 id="third-party-packages">Third Party Packages</h2>
<p>ë‹¤ìŒì˜ íƒ€ì‚¬ íŒ¨í‚¤ì§€ë„ ì œê³µë©ë‹ˆë‹¤.</p>

<h3 id="drf-nested-routers">DRF Nested Routers</h3>
<p><a href="https://github.com/alanjds/drf-nested-routers">drf-nested-routers</a> íŒ¨í‚¤ì§€ëŠ” ì¤‘ì²© ëœ ë¦¬ì†ŒìŠ¤ë¡œ ì‘ì—…í•˜ê¸° ìœ„í•œ ë¼ìš°í„° ë° ê´€ê³„ í•„ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>

<h3 id="rest-framework-generic-relations">Rest Framework Generic Relations</h3>
<p><a href="https://github.com/Ian-Foote/rest-framework-generic-relations">rest-framework-generic-relations</a> ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì¼ë°˜ì ì¸ foreign keyì— ëŒ€í•œ read/write serializerí™”ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
:ET