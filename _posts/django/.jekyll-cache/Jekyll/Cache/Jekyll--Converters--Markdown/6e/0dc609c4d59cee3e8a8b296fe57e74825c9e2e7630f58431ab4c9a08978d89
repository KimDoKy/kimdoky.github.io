I"3Œ<h1 id="build-a-rest-api-with-django--a-test-driven-approach-part-1">Build a REST API with Django â€“ A Test Driven Approach: Part 1</h1>

<p><a href="https://scotch.io/tutorials/build-a-rest-api-with-django-a-test-driven-approach-part-1">Build a REST API with Django â€“ A Test Driven Approach: Part 1</a>ì˜ í¬ìŠ¤íŒ…ì„ ë²ˆì—­í•œ ê²ƒì…ë‹ˆë‹¤. ì›ë³¸ì˜ ì½”ë“œì˜¤ë¥˜(ë‹«ì§€ ì•Šì€ ê´„í˜¸ ë“±)ì™€ django ë²„ì „ì˜ ì°¨ì´ë¡œ ë°œìƒí•˜ëŠ” ì—ëŸ¬ë¥¼ í•´ê²°í•˜ì—¬ í¬ìŠ¤íŒ…ì„ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.</p>

<blockquote>
  <p>Code without tests is broken as designed. â€” Jacob Kaplan-Moss</p>
</blockquote>

<p>ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œì—ì„œ í…ŒìŠ¤íŠ¸ëŠ” ì¤‘ìš”í•œ ìœ„ì¹˜ì— ìˆìŠµë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ë¥¼ í•´ì•¼ í•˜ëŠ” ì´ìœ ëŠ”?</p>
<ul>
  <li>í…ŒìŠ¤íŠ¸ëŠ” í”¼ë“œë°± ë£¨í”„ê°€ ì§§ê¸° ë•Œë¬¸ì— íŒ€ì›ê³¼ íŒ€ì´ ë” ë¹¨ë¦¬ í•™ìŠµí•˜ê³  ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
  <li>ë””ë²„ê¹…ì— ì†Œìš”ë˜ëŠ” ì‹œê°„ì´ ì¤„ì–´ë“¤ì–´ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ”ë° ë” ë§ì€ ì‹œê°„ì„ í• ì• í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
  <li>í…ŒìŠ¤íŠ¸ëŠ” ì½”ë“œì˜ ë¬¸ì„œ ì—­í• ì„ í•©ë‹ˆë‹¤.</li>
  <li>ë²„ê·¸ë¥¼ ì¤„ì´ë©´ì„œ ì½”ë“œ í’ˆì§ˆì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.</li>
  <li>ì½”ë“œë¥¼ ë¦¬íŒ©í„°ë§ í•œ í›„, ë³€ê²½ ì‚¬í•­ì´ ì´ì „ì— ì‘ë™ì¤‘ì¸ ì½”ë“œë¥¼ ì†ìƒì‹œì¼°ëŠ”ì§€ ì—¬ë¶€ë¥¼ í…ŒìŠ¤íŠ¸ í•©ë‹ˆë‹¤.</li>
  <li><strong>ê²€ì‚¬ë¥¼ í†µí•´ íƒˆëª¨ ë°©ì§€ë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</strong> â€¦..</li>
</ul>

<p>ì½”ë“œ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ëŠ” ê°€ì¥ ì¢‹ì€ ë°©ë²•ì€ TDD(Test-Driven Development)ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>

<h3 id="table-of-content">table of content</h3>
<ol>
  <li>Bucketlist</li>
  <li>Django Rest Framework</li>
  <li>Rest API ì•± ë§Œë“¤ê¸°</li>
  <li>ì½”ë”© ì‹œì‘í•˜ê¸°</li>
  <li>serializers</li>
  <li>views</li>
  <li>URL ì²˜ë¦¬</li>
  <li>Run!</li>
  <li>Reading, Updating, Deletion</li>
  <li>Wrapping it up</li>
  <li>Conclusion</li>
</ol>

<h4 id="ì‘ë™-ë°©ë²•">ì‘ë™ ë°©ë²•</h4>
<ul>
  <li>í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„± : ì´ í…ŒìŠ¤íŠ¸ëŠ” ì•±ì˜ ì¼ë¶€ ê¸°ëŠ¥ì„ ì‚´í•ë‹ˆë‹¤.</li>
  <li>í…ŒìŠ¤íŠ¸ ì‹¤í–‰ : í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•´ì•¼í•˜ëŠ” ì½”ë“œê°€ ì—†ìœ¼ë¯€ë¡œ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•´ì•¼ í•©ë‹ˆë‹¤.</li>
  <li>ì½”ë“œ ì‘ì„± : í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ê¸° ìœ„í•´</li>
  <li>í…ŒìŠ¤íŠ¸ ì‹¤í–‰ : í†µê³¼í•˜ë©´ ì‘ì„±í•œ ì½”ë“œê°€ í…ŒìŠ¤íŠ¸ ìš”êµ¬ ì‚¬í•­ì„ ì¶©ì¡±í•˜ê³  ìˆë‹¤ê³  í™•ì‹¤ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
  <li>ì½”ë“œ ë¦¬íŒ©í† ë§ : ì¤‘ë³µì„ ì œê±°í•˜ê³  í° ê°œì²´ë¥¼ ì˜ë¼ë‚´ê³  ì½”ë“œë¥¼ ì½ê¸° ì‰½ê²Œ ë§Œë“­ë‹ˆë‹¤. ì½”ë“œë¥¼ ë¦¬íŒ©í„°ë§ í•  ë•Œë§ˆë‹¤ í…ŒìŠ¤íŠ¸ë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•˜ì‹­ì‹œì˜¤.</li>
  <li>ë°˜ë³µ : ì´ê²Œ ë‹¤ì„!</li>
</ul>

<p>TDDë¥¼ ì‚¬ìš©í•˜ì—¬ ë²„í‚¥ ëª©ë¡ APIë¥¼ ë§Œë“­ë‹ˆë‹¤. APIì—ëŠ” CRUDì™€ ì¸ì¦ ê¸°ëŠ¥ì´ ìˆìŠµë‹ˆë‹¤.</p>

<h2 id="bucketlist">Bucketlist</h2>
<p>bucketlistëŠ” ì„±ì·¨í•˜ê¸°ë¥¼ ì›í•˜ëŠ” ëª¨ë“  ëª©í‘œ, ì„±ì·¨í•˜ê³ ì í•˜ëŠ” ê¿ˆ, ì£½ê¸°ì „ì— ê²½í—˜í•˜ê³  ì‹¶ì€ ì¼ë“¤ ë“±ì˜ ëª©ë¡ì…ë‹ˆë‹¤.</p>

<p>í•„ìš”í•œ API ê¸°ëŠ¥ë“¤ì…ë‹ˆë‹¤.</p>
<ul>
  <li>Bucketlist ë§Œë“¤ê¸°</li>
  <li>Bucketlist ê²€ìƒ‰</li>
  <li>ì—…ë°ì´íŠ¸ ë° ì‚­ì œ</li>
</ul>

<p>í•„ìš”í•œ ë³´ì•ˆ ê¸°ëŠ¥ì…ë‹ˆë‹¤.</p>
<ul>
  <li>API ì‚¬ìš©ì ì¸ì¦</li>
  <li>Bucketlist ê²€ìƒ‰ì¤‘</li>
  <li>Bucketlist ì¶”ê°€</li>
  <li>Pagination</li>
</ul>

<h2 id="django-rest-framework">Django Rest Framework</h2>
<p>DRFëŠ” ì›¹ APIë¥¼ êµ¬ì¶•í•˜ê¸°ìœ„í•œ ê°•ë ¥í•œ ëª¨ë“ˆì…ë‹ˆë‹¤. ì¸ì¦ ì •ì±…ì´ ìˆê³ , ì°¾ì•„ ë³¼ ìˆ˜ ìˆëŠ” ëª¨ë¸ ì§€ì› APIë¥¼ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<h4 id="ì™œ-drfì¸ê°€">ì™œ DRFì¸ê°€?</h4>
<ul>
  <li>ì¸ì¦ : ê¸°ë³¸ ë° ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦ì—ì„œ í† í° ê¸°ë°˜ ë° Oauth2 ê¸°ëŠ¥ì— ì´ë¥´ê¸°ê¹Œì§€ DRFê°€ ì§±ì…ë‹ˆë‹¤.</li>
  <li>Serializer : ORMê³¼ non-ORM ë°ì´í„° ì†ŒìŠ¤ë¥¼ ëª¨ë‘ ì§€ì›í•˜ë©°, ë°ì´í„°ë² ì´ìŠ¤ì™€ í†µí•©ë©ë‹ˆë‹¤.</li>
  <li>í›Œë¥­í•œ ë¬¸ì„œ : ë°©ëŒ€í•œ ì˜¨ë¼ì¸ ì„¤ëª…ì„œì™€ í›Œë¥­í•œ ì»¤ë®¤ë‹ˆí‹° ì§€ì›ì´ ìˆìŠµë‹ˆë‹¤.</li>
  <li>Heroku, Mozilla, Red Hat, EventbriteëŠ” APIì—ì„œ DRFë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</li>
</ul>

<h4 id="ìš”êµ¬ì‚¬í•­">ìš”êµ¬ì‚¬í•­</h4>
<ul>
  <li>Python</li>
  <li>Django</li>
</ul>

<blockquote>
  <p>ê°€ìƒí™˜ê²½ ìƒì„± ë° Django, DRF ì„¤ì¹˜ëŠ” ìŠ¤í‚µí•©ë‹ˆë‹¤.</p>
</blockquote>

<p>ë¨¼ì € ì¥ê³  í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ django-admin startproject djangorest
</code></pre></div></div>

<p>ìƒì„±í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ í´ë” êµ¬ì¡°ë¥¼ ê°–ìŠµë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>â”œâ”€â”€ djangorest
â”‚Â Â  â”œâ”€â”€ __init__.py
â”‚Â Â  â”œâ”€â”€ settings.py
â”‚Â Â  â”œâ”€â”€ urls.py
â”‚Â Â  â””â”€â”€ wsgi.py
â””â”€â”€ manage.py
</code></pre></div></div>

<h4 id="drf-í†µí•©">DRF í†µí•©</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># /djangorest/djangorest/settings.py
</span><span class="p">...</span>

<span class="c1"># Application definition
</span>
<span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">'django.contrib.admin'</span><span class="p">,</span>
    <span class="s">'django.contrib.auth'</span><span class="p">,</span>
    <span class="s">'django.contrib.contenttypes'</span><span class="p">,</span>
    <span class="s">'django.contrib.sessions'</span><span class="p">,</span>
    <span class="s">'django.contrib.messages'</span><span class="p">,</span>
    <span class="s">'django.contrib.staticfiles'</span><span class="p">,</span> <span class="c1"># Ensure a comma ends this line
</span>    <span class="s">'rest_framework'</span><span class="p">,</span> <span class="c1"># Add this line
</span><span class="p">]</span>
</code></pre></div></div>

<h2 id="rest-api-ì•±-ë§Œë“¤ê¸°">Rest API ì•± ë§Œë“¤ê¸°</h2>
<p>DjangoëŠ” í•˜ë‚˜ì˜ ì‘ìš© í”„ë¡œê·¸ë¨ì„ êµ¬ì„±í•˜ê¸° ìœ„í•´ í†µí•©ëœ ì—¬ëŸ¬ ê°œì˜ ì‘ìš© í”„ë¡œê·¸ë¨ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. djangoì— ìˆëŠ” appì€ íŒŒì¼ì„ í¬í•¨í•˜ëŠ” <code class="language-plaintext highlighter-rouge">__init__.py</code> íŒŒì¼ ë¬¶ìŒì´ ìˆëŠ” íŒŒì´ì¬ íŒ¨í‚¤ì§€ì¼ ë¿ì…ë‹ˆë‹¤.</p>

<p>api ì•±ì„ ìƒì„±í•©ë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python manage.py startapp api
</code></pre></div></div>

<p>ì¥ê³  ì…‹íŒ…ì— api ì•±ì„ ì¶”ê°€í•©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># /djangorest/djangorest/settings.py
# Application definition
</span>
<span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">'django.contrib.admin'</span><span class="p">,</span>
    <span class="s">'django.contrib.auth'</span><span class="p">,</span>
    <span class="s">'django.contrib.contenttypes'</span><span class="p">,</span>
    <span class="s">'django.contrib.sessions'</span><span class="p">,</span>
    <span class="s">'django.contrib.messages'</span><span class="p">,</span>
    <span class="s">'django.contrib.staticfiles'</span><span class="p">,</span>
    <span class="s">'rest_framework'</span><span class="p">,</span>
    <span class="s">'api'</span><span class="p">,</span> <span class="c1"># Add this line
</span><span class="p">]</span>
</code></pre></div></div>

<h2 id="ì½”ë”©-ì‹œì‘í•˜ê¸°">ì½”ë”© ì‹œì‘í•˜ê¸°</h2>
<h3 id="ì²«ì§¸-ìš°ë¦¬ëŠ”-í…ŒìŠ¤íŠ¸">ì²«ì§¸, ìš°ë¦¬ëŠ” í…ŒìŠ¤íŠ¸!</h3>
<p>ëª¨ë¸ì„ ë§Œë“¤ì–´ì•¼ í•˜ëŠ”ë°, ì•„ì§ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ api ì•±ì˜ tests.py í´ë”ì— ëª‡ ê°€ì§€ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># /api/tests.py
</span>
<span class="kn">from</span> <span class="nn">django.test</span> <span class="kn">import</span> <span class="n">TestCase</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Bucketlist</span>

<span class="k">class</span> <span class="nc">ModelTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="s">""" ì´ í´ë˜ìŠ¤ëŠ” bucketlist ëª¨ë¸ì„ ìœ„í•œ test suiteë¥¼ ì •ì˜í•©ë‹ˆë‹¤."""</span>
    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">""" í…ŒìŠ¤íŠ¸ í´ë¼ì´ì–¸íŠ¸ì™€ ê¸°íƒ€ í…ŒìŠ¤íŠ¸ ë³€ìˆ˜ë¥¼ ì •ì˜í•©ë‹ˆë‹¤."""</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">bucketlist_name</span> <span class="o">=</span> <span class="s">"Write world class code"</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">bucketlist</span> <span class="o">=</span> <span class="n">Bucketlist</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="p">.</span><span class="n">bucketlist_name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_model_can_create_a_bucketlist</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">""" bucketlist ëª¨ë¸ì„ í…ŒìŠ¤íŠ¸í•˜ë©´ bucketlistì´ ìƒì„±ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤."""</span>
        <span class="n">old_count</span> <span class="o">=</span> <span class="n">Bucketlist</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">count</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">bucketlist</span><span class="p">.</span><span class="n">save</span><span class="p">()</span>
        <span class="n">new_count</span> <span class="o">=</span> <span class="n">Bucketlist</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">count</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">old_count</span><span class="p">,</span> <span class="n">new_count</span><span class="p">)</span>
</code></pre></div></div>

<p>ìœ„ ì½”ë“œëŠ” django.testì—ì„œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì—ëŠ” ëª¨ë¸ì´ ì´ë¦„ì´ ìˆëŠ” bucketlistì„ ë§Œë“¤ ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë‹¨ì¼ í…ŒìŠ¤íŠ¸ê°€ ìˆìŠµë‹ˆë‹¤.</p>

<h3 id="ëª¨ë¸ì„-ì •ì˜í•©ë‹ˆë‹¤">ëª¨ë¸ì„ ì •ì˜í•©ë‹ˆë‹¤.</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># /api/models.py
</span>
<span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Bucketlist</span><span class="p">(</span><span class="n">models</span><span class="p">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="k">pass</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">test</code> ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python3 manage.py test
</code></pre></div></div>

<p>ëª¨ë¸ í•„ë“œë¥¼ ì‘ì„±í•˜ê³  ë§ˆì´ê·¸ë ˆì´ì…˜ ì‘ì—…ì„ í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ì—¬ëŸ¬ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤. DjangoëŠ” SQliteë¥¼ ê¸°ë³¸ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. ë˜í•œ ëª¨ë¸ì„ ì‘ì„±í•  ë•Œ ë‹¨ì¼ SQLì„ ì‘ì„±í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. ëª¨ë‘ ì¥ê³ ê°€ ì²˜ë¦¬í•©ë‹ˆë‹¤.</p>

<p>models.py íŒŒì¼ì— ë°ì´í„°ë² ì´ìŠ¤ì˜ í…Œì´ë¸” í•„ë“œë¥¼ ë‚˜íƒ€ë‚´ëŠ” í•„ë“œë¥¼ ì •ì˜í•©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># api/models.py
</span>
<span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Bucketlist</span><span class="p">(</span><span class="n">models</span><span class="p">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="s">""" ì´ í´ë˜ìŠ¤ëŠ”  ëª¨ë¸ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤."""</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">255</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">date_created</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">auto_now_add</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">date_modified</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">auto_now</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""ì‚¬ëŒì´ ì½ì„ ìˆ˜ ìˆëŠ” í‘œí˜„ìœ¼ë¡œ ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤."""</span>
        <span class="k">return</span> <span class="s">"{}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="ë§ˆì´ê·¸ë ˆì´ì…˜">ë§ˆì´ê·¸ë ˆì´ì…˜!</h3>
<p>ë§ˆì´ê·¸ë ˆì´ì…˜ì€ Djangoê°€ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆì— ëª¨ë¸ ë³€ê²½(ëª¨ë¸ ì¶”ê°€, ì‚­ì œ ë“±)ì„ ì ìš©í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. í’ë¶€í•œ ëª¨ë¸ í•„ë“œë“¤ì„ ë§Œë“¤ì—ˆìœ¼ë¯€ë¡œ ê´€ë ¨ ìŠ¤í‚¤ë§ˆë¥¼ ë§Œë“¤ë„ë¡ ë°ì´í„°ë² ì´ìŠ¤ì— ì•Œë ¤ì•¼ í•©ë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># ëª¨ë¸ì— ëŒ€í•œ ë³€ê²½ ì‚¬í•­ì„ ê¸°ë°˜ìœ¼ë¡œ ìƒˆë¡œìš´ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ìƒì„±
$ python3 manage.py makemigrations

# ìƒì„±ëœ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ì ìš©
$ python3 manage.py migrate
</code></pre></div></div>

<p>ë§ˆì´ê·¸ë ˆì´ì…˜ í›„ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ì´ í‘œì‹œë©ë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python manage.py test
Creating test database for alias 'default'...
System check identified no issues (0 silenced).
.
----------------------------------------------------------------------
Ran 1 test in 0.002s

OK
Destroying test database for alias 'default'...
</code></pre></div></div>

<p>í…ŒìŠ¤íŠ¸ê°€ í†µê³¼ë˜ì—ˆìŠµë‹ˆë‹¤. ì•±ìš© Serializerë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<h2 id="serializers">Serializers</h2>

<p>SerializerëŠ” ë°ì´í„°ë¥¼ ì§ë ¬í™” / ì—­ì§ë ¥í™”ë¥¼ í•©ë‹ˆë‹¤. ì§ë ¬í™”ëŠ” DBì˜ ë³µì¡í•œ ì¿¼ë¦¬ì…‹ì—ì„œ JSONì´ë‚˜ XMLê°™ì€ ë°ì´í„° í˜•ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë³€ê²½í•©ë‹ˆë‹¤. ì—­ì§ë ¬í™”ëŠ” DBì— ì €ì¥í•˜ë ¤ëŠ” ë°ì´í„°ì˜ ìœ íš¨ì„±ì„ í™•ì¸í•œ í›„ì— í”„ë¡œì„¸ìŠ¤ë¥¼ ë˜ëŒë¦½ë‹ˆë‹¤.</p>

<h3 id="model-serializers-are-awesome">Model Serializers are awesome!</h3>
<p><code class="language-plaintext highlighter-rouge">ModelSerializer</code> í´ë˜ìŠ¤ëŠ” ìë™ìœ¼ë¡œ ëª¨ë¸ í•„ë“œì— í•´ë‹¹í•˜ëŠ” í•„ë“œì™€ ì‹œë¦¬ì–¼ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì½”ë“œì˜ ëŸ‰ì´ ì‘¥ ì¤„ì–´ë“­ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># api/serializers.py
</span>
<span class="kn">from</span> <span class="nn">rest_framework</span> <span class="kn">import</span> <span class="n">serializers</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Bucketlist</span>

<span class="k">class</span> <span class="nc">BucketlistSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="p">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
    <span class="s">""" ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ JSON í¬ë©§ìœ¼ë¡œ ë§¤í•‘í•˜ëŠ” Serializerì…ë‹ˆë‹¤."""</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="s">""" serializer í•„ë“œë¥¼ ëª¨ë¸ í•„ë“œì™€ ë§¤í•‘í•˜ëŠ” ë©”íƒ€ í´ë˜ìŠ¤ì…ë‹ˆë‹¤."""</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Bucketlist</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="s">'id'</span><span class="p">,</span> <span class="s">'name'</span><span class="p">,</span> <span class="s">'date_created'</span><span class="p">,</span> <span class="s">'date_modified'</span><span class="p">)</span>
        <span class="n">read_only_fields</span> <span class="o">=</span> <span class="p">(</span><span class="s">'date_created'</span><span class="p">,</span> <span class="s">'date_modified'</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="views">Views</h2>
<p>ë¨¼ì € ë·°ì˜ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤. ì²˜ìŒ í…ŒìŠ¤íŠ¸ë¥¼ ë§Œë“œëŠ” ê²ƒì€ í˜ë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ë¬´ì—‡ì„ êµ¬í˜„í•´ì•¼í•˜ëŠ”ì§€ë¥¼ ì•Œë©´ í…ŒìŠ¤íŠ¸ í•  ë‚´ìš©ì„ ì‰½ê²Œ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” ë‹¤ìŒì„ ì²˜ë¦¬í•  ë·°ë¥¼ ìƒì„±í•˜ë ¤ í•©ë‹ˆë‹¤.</p>

<ul>
  <li>bucketlist ë§Œë“¤ê¸° - POST ìš”ì²­ ì²˜ë¦¬</li>
  <li>bucketlist ì½ê¸° - GET ìš”ì²­ ì²˜ë¦¬</li>
  <li>bucketlist ì—…ë°ì´íŠ¸ - PUT ìš”ì²­ ì²˜ë¦¬</li>
  <li>bucketlist ì‚­ì œ - DELETE ìš”ì²­ ì²˜ë¦¬</li>
</ul>

<p>ìœ„ ê¸°ëŠ¥ë“¤ì„ ë°”íƒ•ìœ¼ë¡œ ë¬´ì—‡ì„ í…ŒìŠ¤íŠ¸í•´ì•¼ í•˜ëŠ”ì§€ ì•Œê³  ìˆìŠµë‹ˆë‹¤. ê·¸ê²ƒë“¤ì„ ì§€ì¹¨ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>

<p>ì²« ë²ˆì§¸, APIê°€ bucketlistë¥¼ ì„±ê³µì ìœ¼ë¡œ ë§Œë“¤ì§€ ì—¬ë¶€ë¥¼ í…ŒìŠ¤íŠ¸ í•©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># api/tests.py
</span>
<span class="c1"># Add these imports at the top
</span><span class="kn">from</span> <span class="nn">rest_framework.test</span> <span class="kn">import</span> <span class="n">APIClient</span>
<span class="kn">from</span> <span class="nn">rest_framework</span> <span class="kn">import</span> <span class="n">status</span>
<span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">reverse</span>

<span class="c1"># Define this after the ModelTestCase
</span><span class="k">class</span> <span class="nc">ViewTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="s">"""api viewë¥¼ ìœ„í•œ Test suiteì…ë‹ˆë‹¤. """</span>

    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""í…ŒìŠ¤íŠ¸ í´ë¼ì´ì–¸ë“œì™€ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ ë³€ìˆ˜ë¥¼ ì •ì˜í•©ë‹ˆë‹¤."""</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">APIClient</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">bucketlist_data</span> <span class="o">=</span> <span class="p">{</span><span class="s">'name'</span><span class="p">:</span> <span class="s">'Go to Ibiza'</span><span class="p">}</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">post</span><span class="p">(</span>
            <span class="n">reverse</span><span class="p">(</span><span class="s">'create'</span><span class="p">),</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">bucketlist_data</span><span class="p">,</span>
            <span class="nb">format</span><span class="o">=</span><span class="s">"json"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_api_can_create_a_bucketlist</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">""" apiì— ë²„í‚· ìƒì„± ê¸°ëŠ¥ì´ ìˆëŠ”ì§€ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤. """</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">status</span><span class="p">.</span><span class="n">HTTP_201_CREATED</span><span class="p">)</span>
</code></pre></div></div>
<p>ì´ í…ŒìŠ¤íŠ¸ëŠ” ì‹¤íŒ¨í•©ë‹ˆë‹¤. POST ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ë·°ì™€ URLì„ êµ¬í˜„í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>

<p>ê³„ì† views.pyë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># api/views.py
</span>
<span class="kn">from</span> <span class="nn">rest_framework</span> <span class="kn">import</span> <span class="n">generics</span>
<span class="kn">from</span> <span class="nn">.serializers</span> <span class="kn">import</span> <span class="n">BucketlistSerializer</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Bucketlist</span>

<span class="k">class</span> <span class="nc">CreateView</span><span class="p">(</span><span class="n">generics</span><span class="p">.</span><span class="n">ListCreateAPIView</span><span class="p">):</span>
    <span class="s">"""ì´ í´ë˜ìŠ¤ëŠ” ë‚˜ë¨¸ì§€ APIì˜ create ë™ì‘ì„ ì •ì˜í•˜ë‹ˆë‹¤"""</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="n">Bucketlist</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nb">all</span><span class="p">()</span>
    <span class="n">serializer_class</span> <span class="o">=</span> <span class="n">BucketlistSerializer</span>

    <span class="k">def</span> <span class="nf">perform_create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serializer</span><span class="p">):</span>
        <span class="s">"""ìƒˆ bucketlistì„ ë§Œë“¤ë•Œ post ë°ì´í„°ë¥¼ ì €ì¥í•©ë‹ˆë‹¤."""</span>
        <span class="n">serializer</span><span class="p">.</span><span class="n">save</span><span class="p">()</span>
</code></pre></div></div>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">ListCreateAPIView</code>ëŠ” <code class="language-plaintext highlighter-rouge">GET</code>(ëª¨ë“  ëª©ë¡)ê³¼ <code class="language-plaintext highlighter-rouge">POST</code> ë©”ì„œë“œ í•¸ë“¤ëŸ¬ë¥¼ ì œê³µí•˜ëŠ” <code class="language-plaintext highlighter-rouge">generics</code> viewì…ë‹ˆë‹¤.</p>
</blockquote>

<p>querysetê³¼ serializer_class ì†ì„±ì„ ì§€ì •í–ˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  í•œë²ˆ ê²Œì‹œëœ ìƒˆ bucketlistë¥¼ ì €ì¥í•˜ëŠ”ë° ë„ì›€ì„ ì¤„ <code class="language-plaintext highlighter-rouge">perform_create</code> ë©”ì†Œë“œë¥¼ ì„ ì–¸í•©ë‹ˆë‹¤.</p>

<h2 id="handling-urls">Handling Urls</h2>

<p>ì™„ì„±ì„ ìœ„í•´, APIë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì—”ë“œ í¬ì¸íŠ¸ë¡œ URLì„ ì§€ì •í•©ë‹ˆë‹¤. URLì€ ì™¸ë¶€ì™€ ì—°ê²°í•´ì£¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë¡œ ìƒê°í•˜ë©´ ë©ë‹ˆë‹¤. ëˆ„êµ°ê°€ê°€ ìš°ë¦¬ì˜ ì›¹ APIì™€ í†µì‹ í•˜ê¸° ì›í•œë‹¤ë©´ ìš°ë¦¬ì˜ URLì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.</p>

<p>url patterns ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># api/urls.py
</span>
<span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">path</span><span class="p">,</span> <span class="n">include</span>
<span class="kn">from</span> <span class="nn">rest_framework.urlpatterns</span> <span class="kn">import</span> <span class="n">format_suffix_patterns</span>
<span class="kn">from</span> <span class="nn">.views</span> <span class="kn">import</span> <span class="n">CreateView</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">path</span><span class="p">(</span><span class="s">'bucketlists/'</span><span class="p">,</span> <span class="n">CreateView</span><span class="p">.</span><span class="n">as_view</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s">"create"</span><span class="p">),</span>
<span class="p">}</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="n">format_suffix_patterns</span><span class="p">(</span><span class="n">urlpatterns</span><span class="p">)</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">format_suffix_patterns</code>ë¥¼ ì‚¬ìš©í•˜ë©´ URLì„ ì‚¬ìš©í•  ë•Œ ë°ì´í„°í˜•ì‹(ì›ì‹œ jsonì´ë‚˜ html)ì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŒ¨í„´ì˜ ëª¨ë“  URLì— ì‚¬ìš©í•  í˜•ì‹ì„ ì¶”ê°€í•©ë‹ˆë‹¤.</p>

<p>ë§ˆì§€ë§‰ìœ¼ë¡œ ë©”ì¸ ì•±ì˜ urls.py íŒŒì¼ì„ ì¶”ê°€í•˜ì—¬ API ì•±ì„ ê°€ë¦¬í‚µë‹ˆë‹¤. ì•ì—ì„œ ì„ ì–¸í•œ api.urlsë¥¼ ë©”ì¸ urlpatterns ì— í¬í•¨ì‹œì¼œì•¼ í•©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># djangorest/urls.py
</span>
<span class="kn">from</span> <span class="nn">django.conf.urls</span> <span class="kn">import</span> <span class="n">path</span><span class="p">,</span> <span class="n">include</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s">'admin/'</span><span class="p">,</span> <span class="n">admin</span><span class="p">.</span><span class="n">site</span><span class="p">.</span><span class="n">urls</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s">''</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s">'api.urls'</span><span class="p">))</span> <span class="c1"># Add this line
</span><span class="p">]</span>
</code></pre></div></div>

<h2 id="lets-run">Letâ€™s Run!</h2>

<p>django ì„œë²„ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python manage.py runserver
Performing system checks...

System check identified no issues (0 silenced).
August 21, 2018 - 04:10:42
Django version 2.0.4, using settings 'djangorest.settings'
Starting development server at http://127.0.0.1:8000/
Quit the server with CONTROL-C.
</code></pre></div></div>

<p>ëª¨ë“  ê²ƒì´ ì›í™œí•˜ê²Œ ë™ì‘í•˜ê³  ìˆìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.</p>

<p>ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ <a href="http://127.0.0.1:8000/bucketlists/">http://127.0.0.1:8000/bucketlists/</a>ìœ¼ë¡œ ì ‘ì†í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ë™ì‘í•˜ëŠ” ê±¸ ëˆˆìœ¼ë¡œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p><img src="/img/post/django/tda/1.png" alt="" /></p>

<p>bucketlistì„ ì‘ì„±í•˜ê³  POST ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ APIê°€ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p>

<p><img src="/img/post/django/tda/2.png" alt="" /></p>

<h2 id="reading-updating-and-deletion">Reading, Updating and Deletion</h2>
<h3 id="writing-the-tests">Writing the tests</h3>

<p><code class="language-plaintext highlighter-rouge">GET</code>, <code class="language-plaintext highlighter-rouge">PUT</code>, <code class="language-plaintext highlighter-rouge">DELETE</code> ìš”ì²­ì„ ì¶©ì¡±í•˜ê¸° ìœ„í•´ ì„¸ ê°€ì§€ í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€ë¡œ ì‘ì„±í•©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># api/tests.py
</span>
    <span class="k">def</span> <span class="nf">test_api_can_get_a_bucketlist</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">""""APIê°€ ì£¼ì–´ì§„ bucketlistì„ ì–»ì„ ìˆ˜ ìˆëŠ”ì§€ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤."""</span>
        <span class="n">bucketlist</span> <span class="o">=</span> <span class="n">Bucketlist</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">get</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">reverse</span><span class="p">(</span><span class="s">'details'</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s">'pk'</span><span class="p">:</span> <span class="n">bucketlist</span><span class="p">.</span><span class="nb">id</span><span class="p">}),</span>
                    <span class="nb">format</span><span class="o">=</span><span class="s">'json'</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">status</span><span class="p">.</span><span class="n">HTTP_200_OK</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertContains</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">bucketlist</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_api_can_update_bucketlist</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""APIê°€ íŠ¹ì • bucketlistì„ ì—…ë°ì´íŠ¸ í•  ìˆ˜ ìˆëŠ”ì§€ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤."""</span>
        <span class="n">bucketlist</span> <span class="o">=</span> <span class="n">Bucketlist</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">get</span><span class="p">()</span>
        <span class="n">change_bucketlist</span> <span class="o">=</span> <span class="p">{</span><span class="s">'name'</span><span class="p">:</span> <span class="s">'Something new'</span><span class="p">}</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">put</span><span class="p">(</span>
            <span class="n">reverse</span><span class="p">(</span><span class="s">'details'</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s">'pk'</span><span class="p">:</span> <span class="n">bucketlist</span><span class="p">.</span><span class="nb">id</span><span class="p">}),</span>
            <span class="n">change_bucketlist</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s">'json'</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">res</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">status</span><span class="p">.</span><span class="n">HTTP_200_OK</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_api_can_delete_bucketlist</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""APIê°€ bucketlistì„ ì§€ìš¸ ìˆ˜ ìˆëŠ”ì§€ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤."""</span>
        <span class="n">bucketlist</span> <span class="o">=</span> <span class="n">Bucketlist</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">get</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">delete</span><span class="p">(</span>
            <span class="n">reverse</span><span class="p">(</span><span class="s">'details'</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s">'pk'</span><span class="p">:</span> <span class="n">bucketlist</span><span class="p">.</span><span class="nb">id</span><span class="p">}),</span>
            <span class="nb">format</span><span class="o">=</span><span class="s">'json'</span><span class="p">,</span>
            <span class="n">follow</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">status</span><span class="p">.</span><span class="n">HTTP_204_NO_CONTENT</span><span class="p">)</span>
</code></pre></div></div>

<p>ì´ í…ŒìŠ¤íŠ¸ëŠ” ì‹¤íŒ¨í•  ê²ƒì…ë‹ˆë‹¤. ì‹¤íŒ¨ë¥¼ ì¡ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">PUT</code>, <code class="language-plaintext highlighter-rouge">DELETE</code> ë©”ì„œë“œ í•¸ë“¤ëŸ¬ë¡œ apië¥¼ ì™„ì„±í•´ì•¼ í•©ë‹ˆë‹¤. ì´ê²ƒì— ëŒ€í•œ ë·° í´ë˜ìŠ¤ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># api/views.py
</span>
<span class="k">class</span> <span class="nc">DetailsView</span><span class="p">(</span><span class="n">generics</span><span class="p">.</span><span class="n">RetrieveUpdateDestroyAPIView</span><span class="p">):</span>
    <span class="s">"""ì´ í´ë˜ìŠ¤ëŠ” http GET, PUT, DELETE ìš”ì²­ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤."""</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="n">Bucketlist</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nb">all</span><span class="p">()</span>
    <span class="n">serializer_class</span> <span class="o">=</span> <span class="n">BucketlistSerializer</span>
</code></pre></div></div>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">RetrieveUpdateDestroyAPIView</code>ëŠ” GET, PUT, PATCH, DELETE ë©”ì„œë“œ í•¸ë“¤ëŸ¬ë¥¼ ì œê³µí•˜ëŠ” generics viewì…ë‹ˆë‹¤.</p>
</blockquote>

<p>ë§ˆì§€ë§‰ìœ¼ë¡œ, DetailsViewì™€ ì—°ê²°í•  ìƒˆ URLì„ ë§Œë“­ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># api/urls.py
</span>
<span class="kn">from</span> <span class="nn">.views</span> <span class="kn">import</span> <span class="n">DetailsView</span>

<span class="n">path</span><span class="p">(</span><span class="s">'bucketlists/&lt;pk&gt;/'</span><span class="p">,</span>
        <span class="n">DetailsView</span><span class="p">.</span><span class="n">as_view</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s">"details"</span><span class="p">),</span>
</code></pre></div></div>

<h2 id="wrapping-it-up">Wrapping it up</h2>
<p>ë¸Œë¼ìš°ì €ë¡œ <a href="http://127.0.0.1:8000/bucketlists/1/">http://127.0.0.1:8000/bucketlists/1/</a>ìœ¼ë¡œ ì ‘ì†í•˜ì„¸ìš”. ì§ !! ì´ì œ ê¸°ì¡´ bucketlistì„ í¸ì§‘ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
<img src="/img/post/django/tda/3.png" alt="" /></p>

<h2 id="conclusion">Conclusion</h2>
<p>íŒŒíŠ¸ 1 ë!!</p>

<p>íŒŒíŠ¸ 2ì—ì„œëŠ” ì‚¬ìš©ì ì¶”ê°€, ê¶Œí•œ ë¶€ì—¬, ì¸ì¦ í†µí•©, API ë¬¸ì„œ ì‘ì„±, ë³´ë‹¤ ì •êµí•œ í…ŒìŠ¤íŠ¸ ì¶”ê°€ì— ëŒ€í•´ ë‹¤ë£¹ë‹ˆë‹¤.</p>
:ET