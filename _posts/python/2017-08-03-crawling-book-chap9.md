---
layout: post
section-type: post
title: crawling - P2. 고급 스크레이핑 _ cahp 9. 폼과 로그인 뚫기
category: python
tags: [ 'python' ]
---

웹 스크레이핑을 하면 로그인해야만 얻을 수 있는 정보들이 있습니다. 웹은 점점 더 상호작용과 소셜 미디어, 사용자가 만든 콘텐츠 쪽으로 이동하고 있습니다. 폼과 로그인은 이런 타입의 사이트에서 필수적인 부분이고, 이것 없이 사이트를 유지하기는 거의 불가능합니다. 하지만 비교적 쉽게 대응할 수 있습니다.  

이전 섹션들에서는 대부분 HTTP GET을 써서 정보를 요청했습니다. 이번 섹션에서는 웹 서버에서 저장하고 분석할 정보를 보내는 POST 메서드에 집중합니다.  

폼은 기본적으로 웹 서버가 이해하고 사용할 수 있는 POST 요청을 사용자가 보낼 수 있게 하는 수단입니다. 웹사이트에 있는 링크 태그는 사용자가 GET 요청을 형식에 맞게 보낼 수 있도록 돕습니다. 마찬가지로, HTML 폼은 POST 요청을 형식에 맞게 보낼 수 있도록 돕습니다. 따라서 코딩을 조금만 하면 POST 요청을 직접 만들어 스크레이퍼가 전송하게 할 수 있습니다.

## 9.1 파이썬 requests 라이브러리

urllib과 기본적으로 GET 요청을 할 수 있는 것 이상을 해야 할 때가 오면 파이썬 내장 라이브러리 말소 다른 것을 찾아보는게 낫습니다.  

requests 라이브러리는 복잡한 HTTP 요청과 쿠키, 헤더를 잘 처리하며 그외에도 많은 기능이 있습니다.  

라이브러리를 만든 케네스 라이츠는 파이써의 내장 라이브러리에 대해 이렇게 말했습니다.

> 파이썬의 표준 urllib2 모듈은 필요한 HTTP 기능을 거의 제공하지만, 이제 너무 뒤떨어졌습니다. 이 API는 과거에, 과거의 웹을 위해 만들어졌습니다. urllib2를 사용하려면 정말 단순한 일 하나만 하려 해도 할 일이 너무 많고, 심지어 메서드 오버라이드까지 필요할 때도 있습니다.  
API를 이렇게 만들면 안됩니다. 파이썬과 어울리지 않습니다.

requests 라이브러리 역시 pip 로 설치하면 됩니다.

## 9.2 기본적인 폼 전송

## 9.3 라디오 버튼, 체크박스, 기타 필드

## 9.4 파일과 이미지 전송

## 9.5 로그인과 쿠키처리

### 9.5.1 HTTP 기본 접근 인증

## 9.6 기타 폼 문제
