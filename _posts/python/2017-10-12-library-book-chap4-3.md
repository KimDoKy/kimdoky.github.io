---
layout: post
section-type: post
title: Python Library - chap 4. 자료형과 알고리즘 - 4.3 이진 탐색 알고리즘 이용하기
category: python
tags: [ 'python' ]
---
이진 탐색이라고 불리는 알고리즘 구현을 제공하는 bisect에 대해 다룹니다. 이진 탐색은 정렬된 시퀀스(리스트, 튜플)에서 값을 검색하여 해당 인덱스를 반환합니다.

## 이진 탐색으로 리스트에서 값 검색하기
bisect 모듈에는 같은 이진 탐색이라도 다른 결과를 반환하는 2개의 함수가 있습니다. 검색 값이 시퀀스에 존대할 때, 하나는 맨 처음 요소의 인덱스를 반환하고, 다른 하나는 가장 마지막 요소의 다음 인덱스를 반환합니다.

```python
>>> import bisect
>>> seq = [0, 1, 2, 2, 3, 4, 5]  # 오름차순으로 정렬된 리스트
>>> bisect.bisect_left(seq, 2)  # 맨 처음 2 이상인 요소의 인덱스
2

>>> bisect.bisect_right(seq, 2)  # 맨 처음 2보다 큰 요소의 인덱스
4
```

### bisect_left() 함수

형식 | bisect_left(a, x, lo=0, hi=len(a))
---|---
설명 | 정렬된 시퀀스 a에 값 x를 삽입할 위치의 인덱스를 반환한다. a에 값 x가 등록되어 있을 때는 맨 처음 x의 인덱스를 반환한다.
인수 | a - 정렬된 시퀀스를 지정한다. <br> x - 검색할 값을 지정한다. <br> lo - 검색 시작 위치를 지정한다. 생략하면 맨 처음부터 검색한다. <br> hi - 검색 종료 위치를 지정한다. 생략하면 맨 끝까지 검색한다.
반환값 | 삽입 위치의 인데스

### bisect_right(), bisect() 함수

형식 | bisect_right(a, x, lo=0, hi=len(a)) <br> bisect(a, x, lo=0, hi=len(a))
---|---
설명 | bisect_left()와 마찬가지로, 정렬된 시퀀스 a에 값 x를 삽입할 위치의 인덱스를 반환한다. a에 값 x가 등록되어 있을 때는 bisect_left() 와는 달리, 가장 마지막 x의 다음 인덱스를 반환한다.
인수 | a - 정렬된 시퀀스를 지정한다. <br> x - 검색할 값을 지정한다. <br> lo - 검색 시작 위치를 지정한다. 생략하면 맨 처음부터 검색한다. <br> hi - 검색 종료 위치를 지정한다. 생략하면 맨 끝까지 검색한다.
반환값 | 삽입 위치의 인덱스

## 리스트를 항상 정렬 완료 상태로 유지하기
시퀀스를 항상 정렬 완료 상태로 유지하려면, 요소를 추가할 때마다 시퀀스 전체를 정렬하기 보다는 검색한 위치에 요소를 삽입하는 편이 효율적일 수 있습니다. bisect 모듈은 이를 위한 전용 함수를 제공합니다.  

### bisect.insort_left() 샘플 코드

```python
>>> seq = [0, 1, 2, 3, 4, 5]
>>> bisect.insort_left(seq, 3)
>>> seq
[0, 1, 2, 3, 3, 4, 5]
```

### insort_left() 함수

형식 | insort_left(a, x, lo=0, hi=len(a))
---|---
설명 | 정렬된 시퀀스 a의 bisect_left()로 구한 삽입 위치에 x를 삽입한다.
인수 | a - 정렬된 시퀀스를 지정한다. <br> x - 검색할 값을 지정한다. <br> lo - 검색 시작 위치를 지정한다. 생략하면 맨 처음부터 검색한다. <br> hi - 검색 종료 위치를 지정한다. 생략하면 맨 끝까지 검색한다.

### insort_right(), insort() 함수

형식 | insort_right(a, x, lo=0, hi=len(a)) <br> insort(a, x, lo=0, hi=len(a))
---|---
설명 | insort_left()와 마찬가지로, 정렬된 시퀀스에 요소를 삽입한다. insort_right()는 삽입 위치를 bisect_right()로 구한다.
인수 | a - 정렬된 시퀀스를 지정한다. <br> x - 검색할 값을 지정한다. <br> lo - 검색 시작 위치를 지정한다. 생략하면 맨 처음부터 검색한다. <br> hi - 검색 종료 위치를 지정한다. 생략하면 맨 끝까지 검색한다.
