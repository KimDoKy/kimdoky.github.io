---
layout: post
section-type: post
title: TDD와 배포 시 주의가 필요한 사항
category: tdd
tags: [ 'tdd' ]
---

##Chapter 8. TDD와 배포 시 주의가 필요한 사항

###정적 파일(CSS, JavaScript, image 등등)###
> 이 파일들을 제공하기 위해 웹 서버에 특수한 설정을 해주어야 한다.

###데이터베이스###
> 권한이나 경로 문제가 있을 수 있으며, 배포 시 테스트 데이터 관리에 유의해야 한다.

###의존 관계###
> 개발한 소프트웨어와 연계돼 있는 패키지를 서버에 설치해야 하며, 패키지 버전도 확인해야 한다.

##각각에 대한 해결책##

- 실제 운영 사이트에서 사용하는 환경과 동일한 환경의 **스테이징(staging) 사이트**를 이용한다. 이를 통해 "실제" 사이트에 배포하기 전에 모든 것이 제대로 동작하는지 테스트할 수 있다.
- 또한 **스테이징 사이트에 대해 기능 테스트를 실행**할 수 있다. 이를 통해 서버상에 있는 코드와 패키지가 제대로 된 것임을 다시 확인할 수 있고, 레이아웃용 "스모크 테스트"를 통해 CSS가 정상적으로 로딩되는지 알 수 있다.
- **Virtualenv**라는 유용한 툴을 이용해서 하나 이상의 파이썬 애플리케이션이 동작하고 있는 장비에서 패키지 및 패키지 의존 관계를 관리할 수 있다.
- **자동화, 자동화, 자동화!!** 자동화된 스크립트를 이용해서 신규 버전을 배포하고, 이를 스테이징 서버와 운영 서버에 동시에 배포함으로, 운영 서버와 스테이징 서버를 가능한 동일 상태로 유지할 수 있다.
